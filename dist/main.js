(()=>{"use strict";class e extends Map{get(e){let t=super.get(e);if(t)return t;let n="string"==typeof e?e:e.hasOwnProperty("name")?String(e.name):"noname";if("noname"===n)throw console.log(n),new TypeError("The key must be an object with an equal 'name' property or the name as a String.");for(let[e,t]of this)if(n.toLowerCase()==String(e.name).toLowerCase())return t;return[]}has(e){if(super.has(e))return e;let t="string"==typeof e?e:e.hasOwnProperty("name")?e.name:null;if(!t)throw new TypeError("The 'key' to search for must be an object with an equalling 'name' property or a String of the 'name'.");for(let[e,n]of this)if(t.toLowerCase()==String(e.name).toLowerCase())return e}}class t{constructor(t,n){this.neighbors=new e,null!=t&&this.addVertices(t),null!=n&&this.addEdges(n)}vertexAt(e){if(e<0||e>=this.neighbors.keys().length)throw new TypeError("Index "+e+" not within length of total vertices.");let t=0;for(let n of this.neighbors.keys()){if(t===e)return n;t++}return null}indexOf(e){let t=0;for(let n of this.neighbors.keys()){if(n===e)return t;t++}return-1}addVertex(e){this.neighbors.set(e,[])}addVertices(e){if(!Array.isArray(e))throw new TypeError("param 'vertices' must be an Array of vertices with 'x' and 'y' properties.");for(let t of e)this.addVertex(t)}addEdge(e,t,n){if(!isNaN(e)||!isNaN(t)){if(e<0||e>=this.neighbors.size)return console.log("couldn't add 'u' "+e+": index out of bounds"),-1;if(t<0||t>=this.neighbors.size)return console.log("couldn't add 'v' "+t+": index out of bounds"),-1;let i=this.vertexAt(e),o=this.vertexAt(t);return this.neighbors.get(i).push({v:o,weight:n||null}),this.neighbors.get(o).push({v:i,weight:n||null}),!0}return!!this.neighbors.has(e)&&(this.neighbors.get(e).push({v:t,weight:n||null}),this.neighbors.get(t).push({v:e,weight:n||null}),!0)}addEdges(e){if(!Array.isArray(e))throw new TypeError("param 'edges' must be an Array.");for(let t of e)Array.isArray(t)?this.addEdge(t[0],t[1],t[2]?t[2]:void 0):this.addEdge(t.u,t.v,t.weight?t.weight:void 0)}removeVertex(e){let t=isNaN(e)?e:this.vertexAt(e);if(!this.neighbors.has(e))throw new TypeError("v must be a vertex in the graph or an index to one.");var n=!1;for(let e of this.neighbors.get(t)){let i=this.neighbors.get(e.v);for(let e=0;e<i.length;e++)i[e].v==t&&(n=!0),n&&e!=i.length-1&&(i[e].v=i[e+1].v);i.length=i.length-1,n=!1}return this.neighbors.delete(t),!0}removeEdge(e,t){let n=e,i=t;if("number"==typeof e&&"number"==typeof t&&((e<0||e>=this.neighbors.size)&&console.log("u cannot be removed because it does not exist."),(t<0||t>=this.neighbors.size)&&console.log("v cannot be removed because it does not exist."),n=this.vertexAt(e),i=this.vertexAt(t)),this.neighbors.has(n)&&this.neighbors.has(i)){let e=this.neighbors.get(n);for(var o=e.length;o>=0;o--)e[o].v===i&&e[o].splice(o,o);return!0}return!1}getVertex(e){return this.neighbors.has(e)}getVertices(){return JSON.parse(JSON.stringify([...this.neighbors.keys()]))}getVertexNeighbors(e){return this.neighbors.get(e)}getNeighbors(){return JSON.parse(JSON.stringify([...this.neighbors.values()]))}getSize(){return this.neighbors.size}getWeight(e,t){"number"==typeof e&&"number"==typeof t&&((e<0||e>=this.neighbors.size)&&console.log("Cannot get weight of edge with u because "+e+" is not within index bounds."),(t<0||t>=this.neighbors.size)&&console.log("Cannot get weight of edge with v because "+t+"is not within index bounds."),e=this.vertexAt(e),t=this.vertexAt(t));for(let n of this.neighbors.get(e))if(n.v==t)return n.weight;return null}isDisplayable(){return this.getVertices().every((e=>"x"in e&&"y"in e&&"name"in e))}hasVertexInRadius(e,t){for(let[n,i]of this.neighbors)if(Math.sqrt((e.x-n.x)*(e.x-n.x)+(e.y-n.y)*(e.y-n.y))<=t)return n;return null}setVertexName(e,t){this.neighbors.has(e)&&Object.defineProperty(e,"name",{value:t})}setWeight(e,t,n){"number"==typeof e&&"number"==typeof t&&((e<0||e>=this.neighbors.size)&&console.log("Cannot get weight of edge with u because "+e+" is not within index bounds."),(t<0||t>=this.neighbors.size)&&console.log("Cannot get weight of edge with v because "+t+"is not within index bounds."),e=this.vertexAt(e),t=this.vertexAt(t));for(let i of this.neighbors.get(e))i.v==t&&Object.defineProperty(i,"weight",{value:n});for(let i of this.neighbors.get(t))if(i.v==e)return Object.defineProperty(i,"weight",{value:n}),!0;return!1}print(){this.neighbors.forEach(((e,t)=>{let n=0==e.length?"-":e.reduce(((e,t)=>e.v?e.v.name:e+", "+t.v.name));console.log("vertex["+t.name+"]: x: "+t.x+", y: "+t.y+" -> "+n)}))}dfs(e){if("number"==typeof e&&(e=this.vertexAt(e)),null==e)throw new TypeError("Must pass in a vertex or an index to a vertex to search the graph.");var t=[],i={};return this.dfsRecursive(e,i,t,{}),new n(e,i,t)}dfsRecursive(e,t,n,i){n.push(e),i[JSON.stringify(e)]=!0;let o=this.neighbors.get(e);for(let r of o)i[JSON.stringify(r.v)]||(t[JSON.stringify(r.v)]=JSON.stringify(e),this.dfsRecursive(r.v,t,n,i))}bfs(e){if("number"==typeof e&&(e=this.vertexAt(e)),null==e)throw new TypeError("Must pass in a vertex or an index to a vertex to search the graph.");var t=[],i={},o=[e],r={};for(r[JSON.stringify(o[0])]=!0;0!=o.length;){let e=o.shift(),n=this.neighbors.get(e);for(let a of n)r[JSON.stringify(a.v)]||(t.push(a.v),o.push(a.v),i[JSON.stringify(a.v)]=JSON.stringify(e),r[JSON.stringify(a.v)]=!0)}return new n(e,i,t)}getMinimumSpanningTree(e){if("number"==typeof e&&null===(e=vertexAt(e)))throw new TypeError("Vertex must be a vertex or an index of a vertix in the graph to get a minimum spanning tree.");let t={};var n=0;let o=[];for(o.push(e);o.length<this.getSize();){let e=-1,i=-1,r=Number.MAX_VALUE;for(let t of o)for(let n of this.neighbors.get(t))!o.includes(n.v)&&n.weight<r&&(r=n.weight,e=t,i=n.v);if(-1==i)break;o.push(i),t[JSON.stringify(i)]=JSON.stringify(e),n+=r}return new i(e,t,o,n)}getShortestPath(e){if("number"==typeof startingVertex&&(startingVertex=vertexAt(startingVertex),null===startingVertex))throw new TypeError("Vertex must be a vertex or an index of a vertix in the graph to get its shortest path.");let t={};for(let e of this.neighbors.keys())t[JSON.stringify(e)]=Number.MAX_VALUE;t[JSON.stringify(e)]=0;let n={},i=[];for(;i.length<this.getSize();){var r=-1,a=Number.MAX_VALUE;for(let[e,n]of this.neighbors)!i.includes(e)&&t[JSON.stringify(e)]<a&&(a=t[JSON.stringify(e)],r=e);if(-1==r)break;i.push(r);for(let e of this.neighbors.get(r))!i.includes(e.v)&&t[JSON.stringify(e.v)]>t[JSON.stringify(r)]+e.weight&&(t[JSON.stringify(e.v)]=t[JSON.stringify(r)]+e.weight,n[JSON.stringify(e.v)]=JSON.stringify(r))}return new o(e,n,i,t)}}class n{root;parents;searchOrder;constructor(e,t,n){this.root=e,this.parents=t,this.searchOrder=n}getRoot(){return JSON.parse(JSON.stringify(this.root))}getParents(){return this.parents}getNumberOfVerticesFound(){return this.searchOrder.length}getPath(e){"string"!=typeof e&&(e=JSON.stringify(e));let t=[];do{t.push(e),e=this.parents[e]}while(null!=this.parents[e]);return t}getSearchOrder(){return[...this.searchOrder]}printTree(){console.log("Root: "+this.root),console.log("Edges: ");for(let e in this.parents)console.log("("+this.parents[e]+", "+e+")")}}class i extends n{totalWeight;constructor(e,t,n,i){super(e,t,n),this.totalWeight=i}getTotalWeight(){return this.totalWeight}}class o extends n{cost;constructor(e,t,n,i){super(e,t,n),this.cost=i}getCost(e){if("number"==typeof e&&null===(e=vertexAt(startingVertex)))throw new TypeError("Vertex must be a vertex or an index of a vertix in the graph to get its cost.");return this.cost[JSON.stringify(e)]}}const r=t;class a{x=0;y=0;name=null;constructor(e,t,n){2==arguments.length?(this.x=e,this.y=t):3==arguments.length&&(this.x=e,this.y=t,this.name=n)}static hasPointProperties(e){return!!(e.hasOwnProperty("name")&&e.hasOwnProperty("x")&&e.hasOwnProperty("y"))}static arePoints(...e){return e.every((e=>checkIfPoints({o:e})))}}function s(e){let t;for(t=1;!Number.isInteger(e);t*=10,e*=10);return t/e}const l=e=>{if("string"!=typeof e)return!1;const t=(new Option).style;return t.color=e,""!==t.color};function h(e,t){let n=Math.atan2(t.y-e.y,t.x-e.x),i=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))/2;return{x:t.x-i*Math.cos(n),y:t.y-i*Math.sin(n)}}function c(e,t){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function d(e,t){const n=parseInt(window.getComputedStyle(document.getElementById("canvasContainer")).marginTop),i=document.getElementById("header").getBoundingClientRect().height,o=document.getElementById("legend").getBoundingClientRect().height;let r="mousedown"==e.type||"mousemove"==e.type||"mouseup"==e.type?new a(e.clientX-n,e.clientY-i-o-n+window.scrollY):new a(e.touches[0].clientX-n,e.touches[0].clientY-i-o-n+window.scrollY);return t?z(r):r}function g(e){if(e instanceof t)return!0;if(void 0===e)return e=new t,console.log("graph in GraphView was undefined"),!1;throw new TypeError("Cannot display anything other then a Graph object")}function u(e){for(const t in e)if(!a.hasPointProperties(e[t]))throw new TypeError("'"+t+"' must be an object with 'x', 'y', and 'name' properties.")}function m(e){if(!e.every((e=>a.hasPointProperties(e))))throw new TypeError("the array of 'vertices' must contain types of 'Point' objects.")}function y(e){for(const t in e)if(!e[t].hasOwnProperty("x")||!e[t].hasOwnProperty("y"))throw new TypeError("'"+t+"' must be an object with 'x', 'y', and 'name' properties.")}function f(e){for(const t in e)if(!l(e[t]))throw new TypeError("'"+t+"' must be a string of a CSS formatted color.")}function p(e){for(const t in e)if("number"!=typeof e[t])throw new TypeError("'"+t+"' must be a Number.")}function w(e){for(const t in e)if("string"!=typeof e[t])throw new TypeError("'"+t+"' must be a String type.")}function b(e){for(const t in e)if("function"!=typeof e[t])throw new TypeError("'"+t+"' must be a String type.")}const v=document.getElementById("graphView"),x=v.getContext("2d"),E=function(){let e=!1;var t;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hipDPR|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}(),S=E?10:6,T=10,P=window.devicePixelRatio;function M(){R.getZoomScale();let e=R.getPosition(),t=new a(s(0!==e.x?e.x:1)/P,s(0!==e.y?e.y:1)/P),n=new a(v.clientWidth+4,v.clientHeight+4);x.clearRect(t.x,t.y,n.x,n.y)}function I(e,t){k(e,t)}function k(e,t,n){if(void 0===n)n=v;else if(!(n instanceof HTMLCanvasElement))throw new TypeError("'canv' must be an HTMLCanvasElement.");if(void 0===e)e=n.getBoundingClientRect().width;else if(isNaN(e))throw new TypeError("'width' must be a number.");if(void 0===t)t=n.getBoundingClientRect().height;else if(isNaN(t))throw new TypeError("'height' must be a number.");n.width=e*P,n.height=t*P,n.getContext("2d").scale(P,P),n.style.width=e+"px",n.style.height=t+"px"}function B(e,t="black",n,i,o){if(y({v:e}),f({color:t}),x.save(),o&&J(e),x.fillStyle=t,x.beginPath(),x.arc(e.x,e.y,S,0,2*Math.PI),x.fill(),i&&(u({v:e}),C(e)),1!==n&&2!==n||(n=new X(n)),n instanceof X){{let t,i,o,s,l=1===n.axis;const c=l&&n.axisBegin>e.x||!l&&n.axisBegin>e.y?2-n.gradPercentage:n.gradPercentage;var r=x.createLinearGradient(t=l?n.axisBegin:e.x,o=l?e.y:n.axisBegin,i=l?e.x*c:e.x,s=l?e.y:e.y*c);if(r.addColorStop(0,n.color),r.addColorStop(1,"rgba(0, 0, 0, 0)"),x.strokeStyle=r,x.lineWidth=2,x.beginPath(),x.moveTo(t,o),x.lineTo(i,s),x.stroke(),n.withAxisVal){let n=h(new a(t,o),new a(i,s));D(String(l?e.x:e.y),n,"rgb(246, 242, 242)","black")}}x.restore()}else x.restore()}function C(e,t="14px Arial",n="blue",i,o=v.getContext("2d")){u({v:e}),function(e){for(const t in e)if("string"!=typeof e[t])throw new TypeError("'"+t+"' must be a String of a font format.")}({font:t}),f({color:n}),i&&(o.fillStyle="boolean"!=typeof i&&l(i)?i:"rgb(246, 242, 242, .7)",o.fillRect(e.x-3.6*String(e.name).length,e.y-26,7.2*String(e.name).length,14)),o.fillStyle=n,o.font=t,o.textAlign="center",o.fillText(e.name,e.x,e.y-15),A({x:e.x,y:e.y},{x:e.x,y:e.y-12},"blue",null,2)}function O(e,t,n=!0,i){m(e),n&&M();for(let n of e)B(n,i,t,!0)}function A(e,t,n="black",i=n,o=2,r,a){y({v1:e,v2:t}),f({edgeColor:n}),p({lineWidth:o}),x.lineWidth=Math.floor(o),x.strokeStyle=n,x.beginPath(),x.save(),a&&J(e),x.moveTo(e.x,e.y),x.restore(),x.save(),a&&J(t),x.lineTo(t.x,t.y),x.restore(),x.stroke(),x.restore(),null!==i&&(B(e,i,void 0,void 0,a),B(t,i,void 0,void 0,a)),r&&N(e,t,r,n)}function N(e,t,n,i="black",o=v.getContext("2d")){u({v1:e,v2:t}),p({weight:n}),f({color:i});let r=h(e,t),a=Math.atan2(t.y-e.y,t.x-e.x);(a<-Math.PI/2||a>Math.PI/2)&&(a+=Math.PI),o.save(),J(r,o),o.translate(r.x,r.y),o.rotate(a),o.translate(-r.x,-r.y),D(String(n),r,"white",void 0,o),o.restore()}function L(e,t,n="black",i=n,o){u({v1:e,v2:t}),f({color:n,backgroundColor}),A(e,t,n,i,void 0,o);let r=Math.atan2(t.y-e.y,t.x-e.x),a={x:t.x-S*Math.cos(r),y:t.y-S*Math.sin(r)};x.beginPath(),x.moveTo(a.x,a.y),x.lineTo(a.x-T*Math.cos(r-Math.PI/6),a.y-T*Math.sin(r-Math.PI/6)),x.moveTo(a.x,a.y),x.lineTo(a.x-T*Math.cos(r+Math.PI/6),a.y-T*Math.sin(r+Math.PI/6)),x.closePath(),x.strokeStyle="blue",x.lineWidth=2,x.stroke(),N(e,t,o)}function V(e,t,n=!0,i=.9,o="black",r=o,a="blue",l){if(p({decreasingPercentage:i}),i<=0||i>1)throw new TypeError("'decreasingPercentage' mustbe a number greater than 0 and 1.");return f({arrowColor:a}),A(e,t,o,r,void 0,l),new Promise((o=>{let r,h=Math.atan2(t.y-e.y,t.x-e.x),c=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),d=c,g=document.createElement("canvas");k(parseInt(v.style.width),parseInt(v.style.height),g),g.style.position="absolute",g.style.border="2px solid blue",document.getElementById("canvasContainer").appendChild(g);let u=g.getContext("2d");const m=()=>{c*=i,r={x:t.x-c*Math.cos(h),y:t.y-c*Math.sin(h)},u.clearRect(0,0,v.width,v.height),u.beginPath(),J(r,u),u.moveTo(r.x,r.y),J({x:r.x-T*Math.cos(h-Math.PI/6),y:r.y-T*Math.sin(h-Math.PI/6)},u),u.lineTo(r.x-T*Math.cos(h-Math.PI/6),r.y-T*Math.sin(h-Math.PI/6)),J(r,u),u.moveTo(r.x,r.y),J({x:r.x-T*Math.cos(h+Math.PI/6),y:r.y-T*Math.sin(h+Math.PI/6)},u),u.lineTo(r.x-T*Math.cos(h+Math.PI/6),r.y-T*Math.sin(h+Math.PI/6)),u.strokeStyle=a,u.lineWidth=2,u.stroke(),u.lineWidth=2,u.beginPath(),J(r,u),u.moveTo(r.x,r.y);let y=d-c;if(J({x:r.x-y*Math.cos(h),y:r.y-y*Math.sin(h)},u),u.lineTo(r.x-y*Math.cos(h),r.y-y*Math.sin(h)),u.closePath(),u.stroke(),N(e,t,l,void 0,u),C(e,void 0,void 0,!0,u),C(t,void 0,void 0,!0,u),c>S)requestAnimationFrame(m);else{if(n){let e=s(P);x.scale(e,e),x.drawImage(g,0,0),x.scale(P,P)}document.getElementById("canvasContainer").removeChild(g),o()}};requestAnimationFrame(m)}))}function D(e,t,n,i="black",o=v.getContext("2d")){w({text:e}),y({point:t}),f({bgColor:n,textColor:i}),o.fillStyle=n,o.fillRect(t.x-4*e.length,t.y-5,8*e.length,10),o.fillStyle=i,o.font="14px Arial",o.textAlign="center",o.fillText(e,t.x,t.y+5)}async function j(e,t=!0,n){g(e),t&&M(),e.getVertices().forEach((t=>{for(let i of e.getVertexNeighbors(t))switch(n){case 1:L(t,i.v,void 0,void 0,i.weight);break;case 2:V(t,i.v,void 0,void 0,void 0,void 0,void 0,i.weight);break;default:A(t,i.v,void 0,void 0,void 0,i.weight,!0)}B(t,void 0,void 0,!1,!0)})),function(e,t,n,i,o,r=v.getContext("2d")){m(e);for(let a of e)r.save(),o&&J(a),C(a,t,n,i,r),r.restore()}(e.getVertices(),void 0,void 0,!0,!0)}const R=(()=>{var e,t=[1,0,0,1,0,0];let n=1;const i={x:0,y:0};var o=!0,r={x:0,y:0};return{setContext(t){e=t,o=!0},apply(){o&&this.update(),e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5])},getZoomScale:()=>n,getPosition:()=>i,resetPosition(){Object.defineProperties(i,{x:{value:0},y:{value:0}})},getDefaultTranslate:()=>r,isDirty:()=>o,update(){o=!1,t[3]=t[0]=P,t[2]=t[1]=0,t[4]=r.x+i.x,t[5]=r.y+i.y},scaleAt(e,t){o&&this.update(),n*=t,i.x=e.x-(e.x-i.x)*t,i.y=e.y-(e.y-i.y)*t,o=!0},setDefaultTranslate(e,t){r={x:e,y:t}}}})();function J(e,t=x){t.translate(e.x*R.getZoomScale()-e.x,e.y*R.getZoomScale()-e.y)}function z(e){y({point:e});let t=R.getPosition(),n=R.getZoomScale();return R.getDefaultTranslate(),new a(e.x/P*(s(n)*P)-t.x*s(n)/P,e.y/P*(s(n)*P)-t.y*s(n)/P)}function F(e){y({point:e});let t=R.getPosition(),n=R.getZoomScale();return R.getDefaultTranslate(),new a((P*e.x/(s(n)*P*P)+t.x*s(n)/P*P/(s(n)*P*P))*P,(P*e.y/(s(n)*P*P)+t.y*s(n)/P*P/(s(n)*P*P))*P)}function H(){x.setTransform(P,0,0,P,0,0)}function q(e,t=5e3){w({message:e}),p({time:t}),document.getElementsByClassName("alert")[0].innerHTML=e,document.getElementsByClassName("alert")[0].style.display="block",setTimeout((()=>{(function(e){return w({message:e}),document.getElementsByClassName("alert")[0].innerText.replace(/\n/g,"")!==e.replace(/<[^>]*>/g,"")})(e)||(document.getElementsByClassName("alert")[0].style.display="none")}),t)}async function W(e,t,n,i){return u({point:e}),w({defaultValue:t}),b({blur:n,enter:i}),new Promise((o=>{let r=document.createElement("input");r.placeholder=t,r.type="text",r.size=8,r.classList.add("poppin"),document.body.appendChild(r);const a=parseInt(window.getComputedStyle(document.getElementById("canvasContainer")).left),s=parseInt(window.getComputedStyle(v).border);let l=e.x-r.clientWidth/2+a+s,h=e.x+r.clientWidth/2+a+2*s,c=l>0?h<document.body.clientWidth?l:document.body.clientWidth-r.clientWidth:0;r.style.left=c+"px",r.style.top=e.y+"px",r.onblur=()=>{document.body.removeChild(r),n()},r.onkeydown=e=>{if("Enter"===e.key){let t=r.value?r.value:r.placeholder;null!=i(t)&&1!=i(t)||(r.blur(),o()),e.stopPropagation()}},setTimeout((()=>r.focus()),50)}))}async function G(e,t){const n=document.getElementById("header").getBoundingClientRect().height,i=document.getElementById("legend").getBoundingClientRect().height,o=F(e);let r=t.getSize(),s=new a(o.x,n+i+o.y-26);await W(s,String(r),(()=>{null==e.name&&t.removeVertex(e),j(t)}),(n=>{let i=!1;for(let e of t.getVertices())if(String(e.name).toLowerCase()===String(n).toLowerCase()){i=!0;break}if(i)return q("Point name must be unique."),!1;t.setVertexName(e,n),r++}))}async function Y(e,t,n){const i=document.getElementById("header").getBoundingClientRect().height,o=document.getElementById("legend").getBoundingClientRect().height;let r=F(e),s=F(t),l=Math.atan2(s.y-r.y,s.x-r.x),h=Math.sqrt((s.x-r.x)*(s.x-r.x)+(s.y-r.y)*(s.y-r.y)),c=h/2,d=s.x-c*Math.cos(l),g=s.y-c*Math.sin(l)+i+o;await W(new a(d,g),String(Math.floor(4.5*h)),(()=>{j(n)}),(i=>{if(isNaN(i)||0==Number(i))return q("Input for connecting points must be a number ('0' for no 'weight'on the connection)"),!1;n.setWeight(e,t,Number(i))}))}R.setContext(x);class X{axis=1;axisBegin=0;gradPercentage=.93;color="black";withAxisVal=!1;constructor(e,t,n,i,o){switch(arguments.length){case 5:"boolean"==typeof o&&(this.withAxisVal=o);case 4:l(i)&&(this.color=i);case 3:if("number"==typeof n){if(!(n<=1||n>0))throw new RangeError('"gradPercentage" must be between 0 and 1.');this.gradPercentage=n}case 2:"number"==typeof t&&(this.axisBegin=Math.floor(t));case 1:if(1!==e&&2!==e)throw new RangeError('"axis" property must be a value of "GRAD_BY_X" or "GRAD_BY_Y" constants of this script.');this.axis=e}t||2!=e||(this.axisBegin=v.clientHeight)}}const Z="blue",_=document.getElementById("graphView").getContext("2d");let U,K=0;function Q(){M();let e=R.getZoomScale(),t=R.getPosition(),n=s(e),i=t.x,o=t.y,r={x:(-n*t.x+1)/(i-(1==n)?2:n),y:(-n*t.y+1)/(o-(1==n)?2:n)};R.scaleAt(r,n),_.translate(-t.x,-t.y),R.resetPosition(),R.apply()}var $;let ee=!1,te=!1;async function ne(e,t,n){if($)return;let i=z(n instanceof a?n:d(e)),o=t.hasVertexInRadius(i,E?3*S:S);if(!o||o.name){if("mousedown"==e.type&&2==e.button||"touchstart"==e.type)return o&&function(e,t){g(t),u({v:e}),M(),e=t.getVertex(e);let n=t.getVertexNeighbors(e);t.removeVertex(e);for(let t of n)A(e,t.v,"red",null,void 0,void 0,!0),B(t.v,void 0,void 0,void 0,!0);j(t,!1),B(e,"red",void 0,!0,!0),setTimeout((()=>{j(t,!0)}),1e3)}(o,t),E&&window.navigator.vibrate&&window.navigator.vibrate(100),!0;if("mousedown"==e.type&&0==e.button||"touchstart"==e.type&&Date.now()-e.touchstamp<1e3){if(o)return U=o,B(U,"blue",void 0,!1,!0),!0;if(t.hasVertexInRadius(i,2*S))return q("<strong>A point must not overlap on another.</strong> Space is nice.",3e3),!1;{let e=new a(i.x,i.y);return function(e,t){g(t),u({v:e}),t.addVertex(e),j(t,!0)}(e,t),await G(e,t),!0}}}}function ie(e,t){if(!U)return;let n=d(e,!0);return function(e,t,n){M(),A(t,n,Z,"blue",void 0,!1,!0),j(e,!1),B(t,Z,void 0,!1,!0)}(t,U,n),n}async function oe(e,t,n){if(!U)return!1;let i=n instanceof a?n:d(e);console.log(i);let o=z(i);console.log(o);let r=t.hasVertexInRadius(o,E?3*S:S),s=U;return U=null,r===s?(j(t,!0),!1):r?(t.addEdge(s,r),await Y(s,r,t),!0):t.hasVertexInRadius(o,2*S)?(q("<strong>A point must not overlap on another.</strong> Space is nice.",3e3),j(t),!1):(t.addVertex(o),t.addEdge(s,o),j(t),await G(o,t),await Y(s,o,t),j(t),t.print(),!0)}function re(e,t){var n;if(!$)return function(e){var t,n,i,o,r,s;if("touchmove"===(e=window.event||e).type){var l=new a(e.touches[0].clientX,e.touches[0].clientY),h=new a(e.touches[1].clientX,e.touches[1].clientY);r=c(i=l,o=h)/2,s=Math.atan2(o.y-i.y,o.x-i.x),t={x:o.x-r*Math.cos(s),y:o.y-r*Math.sin(s)},n=c(l,h)-K,K=c(l,h)}var d="touchmove"!=e.type?e.offsetX:t.x,g="touchmove"!=e.type?e.offsetY:t.y;("mousewheel"===e.type?e.wheelDelta:"touchmove"!==e.type?-e.detail:n)>0?R.scaleAt({x:d,y:g},1.1):R.scaleAt({x:d,y:g},1/1.1)}(e),b({drawFunc:n=()=>{j(t)}}),R.isDirty()&&(H(),M(),R.apply()),n(),e.preventDefault(),!0}function ae(e){$=e}const se=document.getElementById("graphView");var le,he=document.getElementById("graphView"),ce=he.getContext("2d"),de="rgb(144, 238, 144)";function ge(e,t="y",n=!0,i=2,o=.1,r=1e3,a=[],s=!0){return new Promise((l=>{le=new Array(e.length).fill(!1,0,e.length);var h=void 0;!0===n&&(h="y"==t?(he.clientHeight-26+12)/e.length:he.clientWidth/e.length),this.delayed=0,s&&ce.clearRect(0,0,he.width,he.height);const c=async()=>{ce.globalAlpha=o,ce.fillStyle="white",ce.fillRect(0,0,he.width,he.height),ce.globalAlpha=1;for(var s=0;s<e.length;s++){let o=Array.isArray(n)?n[s]:14+Math.floor((s+1)*h-h/2);ue(e[s],o,i,t,a[s]),Object.getOwnPropertyDescriptor(e[s],t).value===o&&(le[s]=!0)}me()?(this.delayed||(this.delayed=Date.now()),Date.now()-this.delayed<=r?window.requestAnimationFrame(c):l()):window.requestAnimationFrame(c)};requestAnimationFrame(c)}))}function ue(e,t,n,i,o="black"){var r=Object.getOwnPropertyDescriptor(e,i).value;r<t?r=r+n>t?t:r+n:r>t&&(r=r-n<t?t:r-n),Object.defineProperty(e,i,{value:r});const a="y"===i?1:2;ce.globalAlpha=.5,B(e,o,new X(a,null,null,o,!0),!0),ce.globalAlpha=1}const me=()=>le.every((e=>e));function ye(e,t,n,i=0){return new Promise((o=>{let r=1,a=0,s=0;const l=async()=>{r-=n,a=1-r,Math.min(r,a)==a?t():e();let h=Math.max(r,a)-Math.min(r,a);ce.fillStyle="rgb(255, 255, 255, "+h+")",ce.fillRect(0,0,he.width,he.height),Math.min(r,a)==a?e():t(),ce.fillStyle="rgb(255, 255, 255, "+Math.min(r,a)+")",ce.fillRect(0,0,he.width,he.height),parseFloat(r-1)>-1?requestAnimationFrame(l):(s||(s=Date.now()),Date.now()-s>=i?o():requestAnimationFrame(l))};requestAnimationFrame(l)}))}var fe,pe;async function we(e,t){if(!t)throw new TypeError("Must specify an axis of the array objects to compare ('x' or 'y').");if(!(e instanceof r&&e.isDisplayable()))throw new TypeError("Every object must have 'x' and 'y' co-ordinate properties.");pe="x"===(fe=t)?"y":"x";const n=e.getVertices(),i="x"===fe?1:2;"x"===fe?n.sort(((e,t)=>e.y-t.y)):n.sort(((e,t)=>e.x-t.x)),await ye((()=>j(e,!1,!1)),(()=>O(n,i,!1)),.014,150),await new ge(n,pe,void 0,1.05,void 0,1500,void 0,!1),await be(0,n.length-1,n),await new Promise((t=>{setTimeout((async()=>{await function(e,t,n){var i="y"==n?1:2;return ye((()=>{for(let o of e.getVertices()){let e=Object.getOwnPropertyDescriptor(o,n).value,r=0,a=t.length,s=0|a/2;for(;a>=r;)if(Object.getOwnPropertyDescriptor(t[s],n).value>e)a=s-1,s=0|r+(a-r)/2;else if(Object.getOwnPropertyDescriptor(t[s],n).value<e)r=s+1,s=0|r+(a-r)/2;else{a=r-1;let e=Object.getOwnPropertyDescriptor(t[s],"y"==n?"x":"y").value;B(o,void 0,new X(i,e,.96,de),!0),B(t[s],de,void 0,!0)}}}),(()=>{j(e,!1)}),.005)}(e,n,fe),t()}),2500)}))}async function be(e,t,n){if(t-e!=0){let i=e,o=0|e+(t-e)/2;await be(i,o,n);let r=o+1,a=t;await be(r,a,n),await new Promise((e=>e(function(e,t,n,i,o){let r=e,a=new Array(i-e+1),s=0;for(;e<=t&&n<=i;)Object.getOwnPropertyDescriptor(o[e],fe).value<Object.getOwnPropertyDescriptor(o[n],fe).value?a[s++]=o[e++]:a[s++]=o[n++];for(;e<=t;)a[s++]=o[e++];for(;n<=i;)a[s++]=o[n++];for(let e=0;e<a.length;e++)o[r++]=a[e]}(i,o,r,a,n)))),await function(e,t,n,i){let o=new Array(e.length).fill(de,n,i+1),r="y"==t?(he.clientHeight-26+12)/e.length:he.clientWidth/e.length;return new ge(e,t,!0,r/25<2.6?r/25:2.6,.1,500,o,!1)}(n,pe,e,t)}}const ve=document.getElementById("graphView"),xe=ve.getContext("2d"),Ee="blue",Se=500;function Te(e,t,n,i,o,r){return new Promise((a=>{O(e,void 0,!0),A(t.p1,t.p2,Ee),A(n,i,"green"),Me(e[0===o?0:o-1].x,e[r].x),setTimeout((()=>{M(),a()}),500)}))}function Pe(e,t,n,i){return new Promise((o=>{O(e,void 0,!0),A(t.p1,t.p2,Ee),Me(e[0===n?0:n-1].x,e[i].x),setTimeout((()=>{o()}),500)}))}function Me(e,t,n="yellow"){A({x:e,y:0},{x:e,y:ve.clientHeight},n,null),A({x:t,y:0},{x:t,y:ve.clientHeight},n,null)}function Ie(e,t){M(),O(e,void 0,!1),A(t.p1,t.p2,Ee)}async function ke(e){var t;if(!e instanceof r)throw new TypeError("Must pass in an instance of a Graph.");if(!(t=e.getVertices()).every((e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"))))throw new TypeError("Every object must have an 'x' and a 'y' property.");var n=[...t].sort(((e,t)=>e.x-t.x)),i=[...t].sort(((e,t)=>e.y-t.y));let o=await Be(n,0,n.length-1,i);return Ie(n,o),await new Promise((t=>{setTimeout((async()=>{await function(e,t){return ye((()=>{Ie(e.getVertices(),t)}),(()=>j(e,!1)),.008)}(e,o),t()}),5e3)})),[o.p1,o.p2]}async function Be(e,t,n,i){if(n-t<=3)return await async function(e,t,n,i){let o=new Oe(e[0],e[1]);for(let r=0;r<e.length;r++)for(let a=r+1;a<e.length;a++)0===r&&1===a||(await Te(t,o,e[r],e[a],n,i),Ce(e[r],e[a])<o.getDistance()&&(o=new Oe(e[r],e[a])),await Pe(t,o,n,i));return o}(e.slice(t,n+1),e,t,n);{let o=t,r=0|t+(n-t)/2,a=await Be(e,o,r,i),s=r+1,l=n,h=await Be(e,s,l,i),c=a.getDistance()<h.getDistance()?a:h;await function(e,t,n,i,o,r){return new Promise((a=>{O(e,void 0,!0),A(t.p1,t.p2,Ee),A(n.p1,n.p2,Ee),Me(e[o].x,e[r].x);let s=e[0|o+(r-o)/2+(+(0!=o)?1:0)].x;A({x:s,y:0},{x:s,y:ve.clientHeight},"yellow",null),setTimeout((()=>{M(),O(e,void 0,!1),A(i.p1,i.p2,Ee),Me(e[o].x,e[r].x),A({x:s,y:0},{x:s,y:ve.clientHeight},"yellow",null),setTimeout((()=>{a()}),Se)}),Se)}))}(e,a,h,c,0===t?0:t-1,n);let d=await async function(e,t,n,i,o){let r=t[0|n+(i-n)/2].x;!function(e,t){var n;M(),Me(e-t,e+t,Ee),n=e,xe.strokeStyle="yellow",xe.beginPath(),xe.setLineDash([5,10]),xe.moveTo(n,0),xe.lineTo(n,ve.height),xe.stroke(),xe.setLineDash([])}(r,e.dist);let a=[],s=[];for(let t of o)t.x<=r&&t.x>=r-e.getDistance()?a.push(t):t.x>r&&t.x<=r+e.getDistance()&&s.push(t);let l=0;for(let t of a){for(;l<s.length&&s[l].y<=t.y-e.getDistance();)l++;let n=l;for(;n<s.length&&+(s[n].y-t.y)<=e.getDistance();)Ce(t,s[n])<e.getDistance()&&(e=new Oe(t,s[n])),n++}return e}(c,e,t,n,i);return await function(e,t,n,i,o){return new Promise((r=>{O(e,void 0,!1),A(t.p1,t.p2,Ee),Me(e[i].x,e[o].x),setTimeout((()=>{O(e,void 0,!0),A(n.p1,n.p2,Ee),Me(e[i].x,e[o].x),setTimeout((()=>{r()}),Se)}),Se)}))}(e,c,d,t,n),d}}function Ce(e,t){let n=(t.x-e.x)*(t.x-e.x),i=(t.y-e.y)*(t.y-e.y);return Math.sqrt(n+i)}class Oe{constructor(e,t){this.p1=e,this.p2=t,this.dist=this.distance(this.p1,this.p2)}distance=Ce;getDistance(){return this.dist}}const Ae="blue",Ne=1e4;async function Le(e,t,n,i){let o=V(e,t,!0,i?.93:.95,void 0,void 0,void 0,Number(n.getWeight(n.getVertex(e),n.getVertex(t))));B(e,Ae),B(t,Ae),i?await new Promise((e=>setTimeout((()=>e()),i))):await o}function Ve(e,t,n,i,o){let r=e.getPath(t),a="Path found from <i>"+e.getRoot().name+"</i> to <i>"+t.name+"</i>: <b>"+e.getRoot().name+"</b> > ";a+=1==r.length?"<b>"+JSON.parse(r[0]).name+"</b>":r.reduce(((e,t,n)=>"<b>"+JSON.parse(t).name+"</b> > "+(1==n?"<b>"+JSON.parse(e).name+"</b>":e)));let s=a+"</br>Path Length: <b>"+r.length+"</b>";s+=(i?"</br>Search Count: <b>"+i+"</b>":"")+(o||""),q(s,n)}let De=document.getElementById("graphView");let je=0;const Re=[{header:"Graph Visualizer",message:['The english vocabulary is, apprarently, too large to name this idea separate from the "graph" in Math. ',"So what on earth is the programmer's graph?</br></br>Feel free to skip this tutorial if you'd like to just ","go for it, and to click on the title."].join(""),image:"./src/resources/favicon.png"},{header:"The Graph Programmers Know and Love",message:["A graph is essentially a list of objects with each object containing its own ","list of objects for some kind of connection in the graph. Facebook uses them to hold people's data and ","who they're friends with, and Google Maps uses them storing locations and locations' neighboring ","locations."].join(""),image:"./src/resources/graph rep.png"},{header:"Customizing Graph Visualizer",message:["<i>Adding and Removing Points</i> - A user can customize the graph by simply ",(E?"tapping to add a point, and double tapping to remove one.":"clicking to add a point and right-clicking to remove one.")+"</br></br>","<i>Adding Connections</i> - You can also ",(E?"hold down on a point for half a second and drag from it to add a connection to it.":"begin dragging from a point to add a connection to it.")+"</br></br>","<i>Zooming</i> - A user can "+(E?"tap with two fingers":"use the mouse wheel")+" to zoom in and out.</br></br>","Users can additionally load pre-made maps using the <span class=buttonText>Change Map</span> dropdown."].join(""),image:""},{header:"Searching",message:["A main advantage of graphs is their searching ability throughout all the connections.</br></br>","Users can <i>search</i> the graph for a path using the <span class=buttonText>Find Paths</span> ","section.</br></br>All the algorithms use 'Starting From' points, and most have 'Searching For' ","points, which can be typed in the appropriate inputs. </br></br>","The searching algorithm to use can be selected in the ending dropdown of the <span class=buttonText>","Find Paths</span> section."].join(""),image:""},{header:"The Algorithm Cast",message:["<font size=2><i>Depth-First Search</i> - This algorithm searches from a point by going through all the ","connections one of its 'neighbors' has before going on to its second 'neighbor', digging all ","the way to the end of one neighboring line until there are no more.</br></br>","<i>Breadth-First Search</i> - This algorithm searches by going through all a point's 'neighbors' ","before going on to its neighbors' neighbors. The fewer the connections to a searching point, the ","quicker it'll be found.</br></br>","<i>Shortest Entirety Path</i> - This algorithm determines the smallest distance in traveling to every ","point, though not necessarily linearly.</br>","<i>Shortest Path</i> - This algorithm guarantees the shortest path from starting point to searching-for ","point."].join(""),image:""},{header:"Additional Features",message:["<i>Sorting</i> - Users can additionally sort the points based on their 'X' or 'Y' co-ordinates ","using the <span class=buttonText>Sort</span> dropdown, which uses the Merge Sort algorithm.</br></br>","<i>Closest Pair</i> - A last feature includes finding the closest pair of points in the graph, ","which visualizes the 'Divide and Conquer' method."].join(""),image:""},{header:"Thanks so much for checking this project out!",message:["It has been incredibly learning for me, and I hope you find it interesting as well.</br></br>","The GitHub repository can be found <a href='https://github.com/paulmeddaugh/Graph-Visualizer'>here","</a>.</br>","The Trello board can be found <a href='https://trello.com/b/0vXmvjiV/graph-visualizer'>here","</a>."].join(""),image:""}];function Je(e){ze("Previous","Next"),je="previous"==e.currentTarget.id?--je:++je,je<0||je>=Re.length?He():(ze("Skip","Finish"),Fe())}function ze(e,t){0==je?document.getElementById("previous").innerHTML=e:je==Re.length-1&&(document.getElementById("next").innerHTML=t)}function Fe(){let e=document.getElementsByTagName("img")[0]?.remove(),t=document.getElementsByClassName("helpMessage")[0];document.getElementsByClassName("helpHeader")[0].innerHTML=Re[je].header,t.innerHTML=Re[je].message,""!=Re[je].image&&(e||(e=document.createElement("img")),e.src=Re[je].image,t.appendChild(e))}function He(){document.getElementById("helpMessage").style.display="none"}var qe,We,Ge,Ye,Xe,Ze;let _e,Ue;document.getElementById("previous").addEventListener("click",Je),document.getElementById("next").addEventListener("click",Je),document.getElementById("tutorial").addEventListener("click",(()=>{je=0,Fe(),document.getElementById("previous").innerHTML="Skip",document.getElementById("next").innerHTML="Next",document.getElementById("helpMessage").style.display="flex"})),document.getElementById("closeTutorial").addEventListener("click",He),window.addEventListener("resize",Qe),window.addEventListener("orientationchange",(e=>{rt(),Qe(e)}),!1),window.addEventListener("contextmenu",(e=>e.preventDefault())),document.getElementById("closest").addEventListener("click",(async function(){return rt(),Q(),tt([["blue","Closest Pair"],["darkGreen","Comparing Pair"],["yellow","Searching Sector"],["blue-yellow","Merging Sectors"]]),ot(),await ke(qe),it(),nt(),!0})),document.getElementById("byX").addEventListener("click",$e),document.getElementById("byY").addEventListener("click",$e),document.getElementById("search").addEventListener("click",(async function(){rt(),Q(),j(qe);let e=document.getElementById("start").value,t=document.getElementById("searchingFor").value,i=document.getElementById("searchType").innerText;if((e=qe.getVertex(e))&&(t=qe.getVertex(t)))return e===t?(q("Path Found: <b>"+e.name+"</b></br>Search Length: <b>0</b></br></br>Humans.",3e3),!1):(tt([["blue","Searched"]]),ot(),j(qe),"Depth-First Search"==i?await async function(e,t,i){if(!e instanceof n)throw new TypeError("Only displays results from a SearchTree class, returned from a Graph.dfs");let o=e.getParents();var r=!1,a=0;for(let e in o){let n=JSON.parse(o[e]),s=JSON.parse(e);if(await Le(n,s,i,325),a++,e===JSON.stringify(t)){r=!0;break}}!1===r?q("No path found.",3e3):Ve(e,t,Ne,a)}(qe.dfs(e),t,qe):"Breadth-First Search"==i?await async function(e,t,i){if(!e instanceof n)throw new TypeError("Only displays results from a SearchTree class, returned from a Graph.bfs");let o=e.getParents(),r=new Map,a=0;r.set(JSON.stringify(e.getRoot()),[]);for(let n in o){if(r.has(o[n])||await s(r,i),a++,n===JSON.stringify(t))return r.get(o[n]).push(n),await s(r,i),Ve(e,t,Ne,a),void e.printTree();await void 0,r.get(o[n]).push(n)}async function s(e,t){let n,i,o=[];for(let[r,a]of e){for(let e of a)n&&await Le(n,i,t,250),n=JSON.parse(r),i=JSON.parse(e),o.push(e);e.delete(r)}await Le(n,i,t),await new Promise((e=>setTimeout((()=>e()),75)));for(let t of o)e.set(t,[])}await s(r,i),q("No path found.",3e3)}(qe.bfs(e),t,qe):"Minimum Spanning Tree"==i?await async function(e,t){if(!e instanceof n)throw new TypeError("Only displays results from a SearchTree class returned from Graph.");let i=e.getParents(),o=null;for(let e in i){let n=JSON.parse(i[e]),r=JSON.parse(e);o=V(n,r,!0,.95,void 0,void 0,void 0,Number(t.getWeight(t.getVertex(n),t.getVertex(r))))}O(t.getVertices(),void 0,!1,"blue"),await o,q("Smallest Distance Travelling to Every Point: <b>"+e.getTotalWeight()+"</b>",Ne)}(qe.getMinimumSpanningTree(e),qe):"Shortest Path"==i&&await async function(e,t,n){let i,o=e.getPath(t),r=e.getRoot();for(let e=o.length-1;-1!=e;e--)i=JSON.parse(o[e]),await Le(r,i,n,250),r=i;let a="</br>Total Path Distance: <b>"+e.getCost(t)+"</b>";Ve(e,t,Ne,void 0,a)}(qe.getShortestPath(e),t,qe),it(),nt(),!0);q("Could not find the starting or searching point in the graph.",5e3)}));for(let e of["byDepth","byBreadth","byMinimumSpanningTree","byShortestPaths"])document.getElementById(e).addEventListener("click",at);function Ke(e){let t="string"==typeof e?e:e.currentTarget.id;j(qe=function(e){let t,n,i,o,a;switch(e.toLowerCase()){case"us":i=Math.min(De.width/((t=780)*P),De.height/((n=430)*P)),o=[{name:"Seattle",x:125,y:60},{name:"San Francisco",x:100,y:220},{name:"Los Angeles",x:128,y:285},{name:"Denver",x:325,y:185},{name:"Kansas City",x:450,y:255},{name:"Chicago",x:500,y:110},{name:"Boston",x:728,y:90},{name:"New York",x:725,y:130},{name:"Atlanta",x:625,y:305},{name:"Miami",x:650,y:410},{name:"Dallas",x:458,y:335},{name:"Houston",x:495,y:370}],a=[[0,1,807],[0,3,1331],[0,5,2097],[1,2,381],[1,3,1267],[2,3,1015],[2,4,1663],[2,10,1435],[3,4,599],[3,5,1003],[4,5,533],[4,7,1260],[4,8,864],[4,10,496],[5,6,983],[5,7,787],[6,7,214],[7,8,888],[8,9,661],[8,10,781],[8,11,810],[9,11,1187],[10,11,239]];break;case"binary":i=Math.min(De.width/((t=680)*P),De.height/((n=380)*P)),o=[{name:"43",x:362,y:34},{name:"19",x:178,y:107},{name:"15",x:89,y:184},{name:"17",x:133,y:258},{name:"23",x:272,y:185},{name:"21",x:225,y:258},{name:"25",x:317,y:259},{name:"34",x:338,y:335},{name:"84",x:543,y:108},{name:"48",x:452,y:185},{name:"64",x:497,y:258},{name:"62",x:474,y:335},{name:"91",x:635,y:184}],a=[[0,1,200],[0,8,200],[1,2,150],[1,4,150],[2,3,100],[4,5,100],[4,6,100],[6,7,50],[8,9,150],[8,12,150],[9,10,100],[10,11,50]];break;default:throw new TypeError("No graph map to load with the name '"+e+"'")}for(let e=0;e<o.length;e++){let r=Math.floor(Object.getOwnPropertyDescriptor(o[e],"x").value*i),a=Math.floor(Object.getOwnPropertyDescriptor(o[e],"y").value*i);r=Math.floor(De.width/2/P-t*i/2+r),a=Math.floor(De.height/2/P-n*i/2+a),Object.defineProperties(o[e],{x:{value:r},y:{value:a}})}return new r(o,a)}(t)),"us"==t?(document.getElementById("start").value="Seattle",document.getElementById("searchingFor").value="Houston"):(document.getElementById("start").value="43",document.getElementById("searchingFor").value="34")}async function Qe(e){Xe=Ge.getBoundingClientRect().height,Ze=Ye.getBoundingClientRect().height;var t=document.body.offsetWidth-2*Ue,n=document.body.offsetHeight-Xe-Ze-2*Ue;"load"===e.type?await function(e,t){let n=0,i=0;return new Promise((o=>{let r=()=>{let a=.12*(e-se.width),s=.12*(t-se.height),l=.052*e,h=.052*t,c=.38;if(n+=a>c?a<l?a:l:c,i+=s>c?s<h?s:h:c,se.width=n,se.height=i,!(se.width<e||se.height<t))return o(),k(),!0;requestAnimationFrame(r)};requestAnimationFrame(r)}))}(t,n):"orientationchange"!==e.type&&"resize"!==e.type||(I(t,n),j(qe,!0))}async function $e(e){rt(),Q();let t="byX"===e.target.id?"x":"y";return tt([["green","Sorting By "+t.toUpperCase()]]),ot(),await we(qe,t),it(),nt(),!0}function et(e,t){w({classOfIcon:e,text:t});let n=document.createElement("div"),i=document.createElement("div");return i.classList.add("legendItem"),i.classList.add(e),n.appendChild(i),n.innerHTML+=t,Ye.appendChild(n),!0}function tt(e){if(!Array.isArray(e))throw new TypeError("'legendItems' must be an array holding the arrays of items to create, with the item arrays containing its 'classOfIcon' in the first index and 'text' in the second");Ze=parseInt(window.getComputedStyle(Ye).height),Ye.innerHTML="";for(let t of e)et(t[0],t[1]);return Ze=Math.max(parseInt(window.getComputedStyle(Ye).height),Ze),Ye.style.height=Ze+"px",!0}function nt(){document.getElementById("legend").innerHTML="",et(E?"tap":"click","Add Point"),et(E?"doubleTap":"rightClick","Remove Point"),et(E?"dragTap":"drag","Connect"),et(E?"zoomPinch":"zoom","Zoom")}function it(){ae(!1);for(let e of["closest","findPaths","search","maps","tutorial"])document.getElementById(e).removeAttribute("disabled"),document.getElementById(e).removeAttribute("aria-disabled");document.getElementById("sort").classList.remove("disabled"),document.getElementById("maps").classList.remove("disabled"),We.style.cursor="pointer"}function ot(){ae(!0),H(),j(qe);for(let e of["closest","findPaths","search","maps","tutorial"])document.getElementById(e).setAttribute("disabled",""),document.getElementById(e).setAttribute("aria-disabled","");document.getElementById("sort").classList.add("disabled"),document.getElementById("maps").classList.add("disabled"),We.style.cursor="default"}function rt(){document.getElementById("navbarNavAltMarkup").classList.remove("show"),document.getElementsByClassName("navbar-toggler")[0].classList.add("collapsed")}function at(e){document.getElementById("searchType").innerHTML=e.target.innerHTML,"byMinimumSpanningTree"==e.target.id?document.getElementById("searchingFor").setAttribute("disabled",""):document.getElementById("searchingFor").removeAttribute("disabled")}document.getElementById("us").addEventListener("click",Ke),document.getElementById("binary").addEventListener("click",Ke),window.addEventListener("load",(async e=>{(We=document.getElementById("graphView")).style.border="2px solid black",Ge=document.getElementById("header"),Ye=document.getElementById("legend"),Ze=Ye.getBoundingClientRect().height,_e=parseInt(window.getComputedStyle(document.getElementById("canvasContainer")).marginTop),Ue=_e+parseInt(window.getComputedStyle(We).border),document.getElementById("alert").style.backgroundColor="rgba(224, 224, 224, .9)",We.addEventListener("mousedown",(e=>ne(e,qe))),We.addEventListener("touchstart",(e=>function(e,t){1===e.touches.length?(ee=d(e),function(e,t){return te?(e.preventDefault(),ne(e,t)):(te=!0,setTimeout((()=>{te=!1}),300),!1)}(e,t)||setTimeout((()=>{if(!ee)return;let n,i=d(e,!0);(n=t.hasVertexInRadius(i,2*S))&&(E&&window.navigator.vibrate&&window.navigator.vibrate(100),U=n,B(U,"blue"))}),500)):ee=!1}(e,qe))),We.addEventListener("touchmove",(e=>function(e,t){switch(e.touches.length){case 1:ee=ie(e,t);break;case 2:re(e,t)}}(e,qe))),We.addEventListener("touchend",(e=>async function(e,t){let n;return ee&&(n=U?oe(e,t,ee):ne(e,t,ee)),ee=!1,n}(e,qe))),We.addEventListener("mousemove",(e=>ie(e,qe))),We.addEventListener("mouseup",(e=>oe(e,qe))),We.addEventListener("mousewheel",(e=>re(e,qe)),!1),We.addEventListener("DOMMouseScroll",(e=>re(e,qe)),!1),Fe(),nt(),await Qe(e),Ke("us"),it()})),document.getElementsByClassName("navbar-brand")[0].addEventListener("click",(()=>{new Audio("src/resources/a-whole-new-world-cropped.mp3").play()})),document.getElementById("findPaths").addEventListener("click",(()=>{E||setTimeout((()=>{Xe=Ge.getBoundingClientRect().height,I(document.body.offsetWidth-2*Ue,document.body.offsetHeight-Xe-Ze-2*Ue),j(qe)}),500)})),document.getElementById("findPaths").addEventListener("click",(()=>{document.getElementById("navbarToggleExternalContent").classList.contains("show")?document.getElementById("findPaths").classList.remove("active"):document.getElementById("findPaths").classList.add("active")}))})();
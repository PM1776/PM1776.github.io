(()=>{"use strict";class e extends Map{get(e){let t=super.get(e);if(t)return t;let n="string"==typeof e?e:e.hasOwnProperty("name")?String(e.name):"noname";if("noname"===n)throw console.log(n),new TypeError("The key must be an object with an equal 'name' property or the name as a String.");for(let[e,t]of this)if(n.toLowerCase()==String(e.name).toLowerCase())return t;return[]}has(e){if(super.has(e))return e;let t="string"==typeof e?e:e.hasOwnProperty("name")?e.name:null;if(!t)throw new TypeError("The 'key' to search for must be an object with an equalling 'name' property or a String of the 'name'.");for(let[e,n]of this)if(t.toLowerCase()==String(e.name).toLowerCase())return e}}class t{constructor(t,n){this.neighbors=new e,null!=t&&this.addVertices(t),null!=n&&this.addEdges(n)}vertexAt(e){if(e<0||e>=this.neighbors.keys().length)throw new TypeError("Index "+e+" not within length of total vertices.");let t=0;for(let n of this.neighbors.keys()){if(t===e)return n;t++}return null}indexOf(e){let t=0;for(let n of this.neighbors.keys()){if(n===e)return t;t++}return-1}addVertex(e){this.neighbors.set(e,[])}addVertices(e){if(!Array.isArray(e))throw new TypeError("param 'vertices' must be an Array of vertices with 'x' and 'y' properties.");for(let t of e)this.addVertex(t)}addEdge(e,t,n){if(!isNaN(e)||!isNaN(t)){if(e<0||e>=this.neighbors.size)return console.log("couldn't add 'u' "+e+": index out of bounds"),-1;if(t<0||t>=this.neighbors.size)return console.log("couldn't add 'v' "+t+": index out of bounds"),-1;let i=this.vertexAt(e),o=this.vertexAt(t);return this.neighbors.get(i).push({v:o,weight:n||null}),this.neighbors.get(o).push({v:i,weight:n||null}),!0}return!!this.neighbors.has(e)&&(this.neighbors.get(e).push({v:t,weight:n||null}),this.neighbors.get(t).push({v:e,weight:n||null}),!0)}addEdges(e){if(!Array.isArray(e))throw new TypeError("param 'edges' must be an Array.");for(let t of e)Array.isArray(t)?this.addEdge(t[0],t[1],t[2]?t[2]:void 0):this.addEdge(t.u,t.v,t.weight?t.weight:void 0)}removeVertex(e){let t=isNaN(e)?e:this.vertexAt(e);if(!this.neighbors.has(e))throw new TypeError("v must be a vertex in the graph or an index to one.");var n=!1;for(let e of this.neighbors.get(t)){let i=this.neighbors.get(e.v);for(let e=0;e<i.length;e++)i[e].v==t&&(n=!0),n&&e!=i.length-1&&(i[e].v=i[e+1].v);i.length=i.length-1,n=!1}return this.neighbors.delete(t),!0}removeEdge(e,t){let n=e,i=t;if("number"==typeof e&&"number"==typeof t&&((e<0||e>=this.neighbors.size)&&console.log("u cannot be removed because it does not exist."),(t<0||t>=this.neighbors.size)&&console.log("v cannot be removed because it does not exist."),n=this.vertexAt(e),i=this.vertexAt(t)),this.neighbors.has(n)&&this.neighbors.has(i)){let e=this.neighbors.get(n);for(var o=e.length;o>=0;o--)e[o].v===i&&e[o].splice(o,o);return!0}return!1}getVertex(e){return this.neighbors.has(e)}getVertices(){return JSON.parse(JSON.stringify([...this.neighbors.keys()]))}getVertexNeighbors(e){return this.neighbors.get(e)}getNeighbors(){return JSON.parse(JSON.stringify([...this.neighbors.values()]))}getSize(){return this.neighbors.size}getWeight(e,t){"number"==typeof e&&"number"==typeof t&&((e<0||e>=this.neighbors.size)&&console.log("Cannot get weight of edge with u because "+e+" is not within index bounds."),(t<0||t>=this.neighbors.size)&&console.log("Cannot get weight of edge with v because "+t+"is not within index bounds."),e=this.vertexAt(e),t=this.vertexAt(t));for(let n of this.neighbors.get(e))if(n.v==t)return n.weight;return null}isDisplayable(){return this.getVertices().every((e=>"x"in e&&"y"in e&&"name"in e))}hasVertexInRadius(e,t){for(let[n,i]of this.neighbors)if(Math.sqrt((e.x-n.x)*(e.x-n.x)+(e.y-n.y)*(e.y-n.y))<=t)return n;return null}setVertexName(e,t){this.neighbors.has(e)&&Object.defineProperty(e,"name",{value:t})}setWeight(e,t,n){"number"==typeof e&&"number"==typeof t&&((e<0||e>=this.neighbors.size)&&console.log("Cannot get weight of edge with u because "+e+" is not within index bounds."),(t<0||t>=this.neighbors.size)&&console.log("Cannot get weight of edge with v because "+t+"is not within index bounds."),e=this.vertexAt(e),t=this.vertexAt(t));for(let i of this.neighbors.get(e))i.v==t&&Object.defineProperty(i,"weight",{value:n});for(let i of this.neighbors.get(t))if(i.v==e)return Object.defineProperty(i,"weight",{value:n}),!0;return!1}print(){this.neighbors.forEach(((e,t)=>{let n=0==e.length?"-":e.reduce(((e,t)=>e.v?e.v.name:e+", "+t.v.name));console.log("vertex["+t.name+"]: x: "+t.x+", y: "+t.y+" -> "+n)}))}dfs(e){if("number"==typeof e&&(e=this.vertexAt(e)),null==e)throw new TypeError("Must pass in a vertex or an index to a vertex to search the graph.");var t=[],i={};return this.dfsRecursive(e,i,t,{}),new n(e,i,t)}dfsRecursive(e,t,n,i){n.push(e),i[JSON.stringify(e)]=!0;let o=this.neighbors.get(e);for(let r of o)i[JSON.stringify(r.v)]||(t[JSON.stringify(r.v)]=JSON.stringify(e),this.dfsRecursive(r.v,t,n,i))}bfs(e){if("number"==typeof e&&(e=this.vertexAt(e)),null==e)throw new TypeError("Must pass in a vertex or an index to a vertex to search the graph.");var t=[],i={},o=[e],r={};for(r[JSON.stringify(o[0])]=!0;0!=o.length;){let e=o.shift(),n=this.neighbors.get(e);for(let a of n)r[JSON.stringify(a.v)]||(t.push(a.v),o.push(a.v),i[JSON.stringify(a.v)]=JSON.stringify(e),r[JSON.stringify(a.v)]=!0)}return new n(e,i,t)}getMinimumSpanningTree(e){if("number"==typeof e&&null===(e=vertexAt(e)))throw new TypeError("Vertex must be a vertex or an index of a vertix in the graph to get a minimum spanning tree.");let t={};var n=0;let o=[];for(o.push(e);o.length<this.getSize();){let e=-1,i=-1,r=Number.MAX_VALUE;for(let t of o)for(let n of this.neighbors.get(t))!o.includes(n.v)&&n.weight<r&&(r=n.weight,e=t,i=n.v);if(-1==i)break;o.push(i),t[JSON.stringify(i)]=JSON.stringify(e),n+=r}return new i(e,t,o,n)}getShortestPath(e){if("number"==typeof startingVertex&&(startingVertex=vertexAt(startingVertex),null===startingVertex))throw new TypeError("Vertex must be a vertex or an index of a vertix in the graph to get its shortest path.");let t={};for(let e of this.neighbors.keys())t[JSON.stringify(e)]=Number.MAX_VALUE;t[JSON.stringify(e)]=0;let n={},i=[];for(;i.length<this.getSize();){var r=-1,a=Number.MAX_VALUE;for(let[e,n]of this.neighbors)!i.includes(e)&&t[JSON.stringify(e)]<a&&(a=t[JSON.stringify(e)],r=e);if(-1==r)break;i.push(r);for(let e of this.neighbors.get(r))!i.includes(e.v)&&t[JSON.stringify(e.v)]>t[JSON.stringify(r)]+e.weight&&(t[JSON.stringify(e.v)]=t[JSON.stringify(r)]+e.weight,n[JSON.stringify(e.v)]=JSON.stringify(r))}return new o(e,n,i,t)}}class n{root;parents;searchOrder;constructor(e,t,n){this.root=e,this.parents=t,this.searchOrder=n}getRoot(){return JSON.parse(JSON.stringify(this.root))}getParents(){return this.parents}getNumberOfVerticesFound(){return this.searchOrder.length}getPath(e){"string"!=typeof e&&(e=JSON.stringify(e));let t=[];do{t.push(e),e=this.parents[e]}while(null!=this.parents[e]);return t}getSearchOrder(){return[...this.searchOrder]}printTree(){console.log("Root: "+this.root),console.log("Edges: ");for(let e in this.parents)console.log("("+this.parents[e]+", "+e+")")}}class i extends n{totalWeight;constructor(e,t,n,i){super(e,t,n),this.totalWeight=i}getTotalWeight(){return this.totalWeight}}class o extends n{cost;constructor(e,t,n,i){super(e,t,n),this.cost=i}getCost(e){if("number"==typeof e&&null===(e=vertexAt(startingVertex)))throw new TypeError("Vertex must be a vertex or an index of a vertix in the graph to get its cost.");return this.cost[JSON.stringify(e)]}}const r=t;class a{x=0;y=0;name=null;constructor(e,t,n){2==arguments.length?(this.x=e,this.y=t):3==arguments.length&&(this.x=e,this.y=t,this.name=n)}static hasPointProperties(e){return!!(e.hasOwnProperty("name")&&e.hasOwnProperty("x")&&e.hasOwnProperty("y"))}static arePoints(...e){return e.every((e=>checkIfPoints({o:e})))}}function s(e){let t;for(t=1;!Number.isInteger(e);t*=10,e*=10);return t/e}const l=e=>{if("string"!=typeof e)return!1;const t=(new Option).style;return t.color=e,""!==t.color};function h(e,t){let n=Math.atan2(t.y-e.y,t.x-e.x),i=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))/2;return{x:t.x-i*Math.cos(n),y:t.y-i*Math.sin(n)}}function c(e,t){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function d(e,t){const n=parseInt(window.getComputedStyle(document.getElementById("canvasContainer")).marginTop),i=document.getElementById("header").getBoundingClientRect().height,o=document.getElementById("legend").getBoundingClientRect().height;let r="mousedown"==e.type||"mousemove"==e.type||"mouseup"==e.type?new a(e.clientX-n,e.clientY-i-o-n+window.scrollY):new a(e.touches[0].clientX-n,e.touches[0].clientY-i-o-n+window.scrollY);return t?Z(r):r}function g(e){if(e instanceof t)return!0;if(void 0===e)return e=new t,console.log("graph in GraphView was undefined"),!1;throw new TypeError("Cannot display anything other then a Graph object")}function u(e){for(const t in e)if(!a.hasPointProperties(e[t]))throw new TypeError("'"+t+"' must be an object with 'x', 'y', and 'name' properties.")}function m(e){if(!e.every((e=>a.hasPointProperties(e))))throw new TypeError("the array of 'vertices' must contain types of 'Point' objects.")}function y(e){for(const t in e)if(!e[t].hasOwnProperty("x")||!e[t].hasOwnProperty("y"))throw new TypeError("'"+t+"' must be an object with 'x', 'y', and 'name' properties.")}function f(e){for(const t in e)if(!l(e[t]))throw new TypeError("'"+t+"' must be a string of a CSS formatted color.")}function p(e){for(const t in e)if("number"!=typeof e[t])throw new TypeError("'"+t+"' must be a Number.")}function w(e){for(const t in e)if("string"!=typeof e[t])throw new TypeError("'"+t+"' must be a String type.")}function b(e){for(const t in e)if("function"!=typeof e[t])throw new TypeError("'"+t+"' must be a String type.")}const v=document.getElementById("graphView"),x=v.getContext("2d"),E=function(){let e=!1;var t;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hipDPR|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}(),S=E?10:6,P=1e3,T=1,M=2,I="14px Arial",k="14px Arial",B="rgb(246, 242, 242, .7)",C="blue",O=26,N=10,A=window.devicePixelRatio;function L(){X.getZoomScale();let e=X.getPosition(),t=new a(s(0!==e.x?e.x:1)/A,s(0!==e.y?e.y:1)/A),n=new a(v.clientWidth+4,v.clientHeight+4);x.clearRect(t.x,t.y,n.x,n.y)}function V(e,t){D(e,t)}function D(e,t,n){if(void 0===n)n=v;else if(!(n instanceof HTMLCanvasElement))throw new TypeError("'canv' must be an HTMLCanvasElement.");if(void 0===e)e=n.getBoundingClientRect().width;else if(isNaN(e))throw new TypeError("'width' must be a number.");if(void 0===t)t=n.getBoundingClientRect().height;else if(isNaN(t))throw new TypeError("'height' must be a number.");n.width=e*A,n.height=t*A,n.getContext("2d").scale(A,A),n.style.width=e+"px",n.style.height=t+"px"}function j(e,t="black",n,i,o){if(y({v:e}),f({color:t}),x.save(),o&&Y(e),x.fillStyle=t,x.beginPath(),x.arc(e.x,e.y,S,0,2*Math.PI),x.fill(),i&&(u({v:e}),R(e)),n!==T&&n!==M||(n=new te(n)),n instanceof te){{let t,i,o,s,l=n.axis===T;const c=l&&n.axisBegin>e.x||!l&&n.axisBegin>e.y?2-n.gradPercentage:n.gradPercentage;var r=x.createLinearGradient(t=l?n.axisBegin:e.x,o=l?e.y:n.axisBegin,i=l?e.x*c:e.x,s=l?e.y:e.y*c);if(r.addColorStop(0,n.color),r.addColorStop(1,"rgba(0, 0, 0, 0)"),x.strokeStyle=r,x.lineWidth=2,x.beginPath(),x.moveTo(t,o),x.lineTo(i,s),x.stroke(),n.withAxisVal){let n=h(new a(t,o),new a(i,s));q(String(Math.floor(l?e.x:e.y)),n,"rgb(246, 242, 242)","black")}}x.restore()}else x.restore()}function R(e,t=k,n=C,i,o=v.getContext("2d")){u({v:e}),function(e){for(const t in e)if("string"!=typeof e[t])throw new TypeError("'"+t+"' must be a String of a font format.")}({font:t}),f({color:n}),i&&(o.fillStyle="boolean"!=typeof i&&l(i)?i:B,o.fillRect(e.x-3.6*String(e.name).length,e.y-O,7.2*String(e.name).length,O-12)),o.fillStyle=n,o.font=t,o.textAlign="center",o.fillText(e.name,e.x,e.y-15),z({x:e.x,y:e.y},{x:e.x,y:e.y-12},"blue",null,2)}function J(e,t,n=!0,i){m(e),n&&L();for(let n of e)j(n,i,t,!0)}function z(e,t,n="black",i=n,o=2,r,a){y({v1:e,v2:t}),f({edgeColor:n}),p({lineWidth:o}),x.lineWidth=Math.floor(o),x.strokeStyle=n,x.beginPath(),x.save(),a&&Y(e),x.moveTo(e.x,e.y),x.restore(),x.save(),a&&Y(t),x.lineTo(t.x,t.y),x.restore(),x.stroke(),x.restore(),null!==i&&(j(e,i,void 0,void 0,a),j(t,i,void 0,void 0,a)),r&&F(e,t,r,n)}function F(e,t,n,i="black",o=v.getContext("2d")){u({v1:e,v2:t}),p({weight:n}),f({color:i});let r=h(e,t),a=Math.atan2(t.y-e.y,t.x-e.x);(a<-Math.PI/2||a>Math.PI/2)&&(a+=Math.PI),o.save(),Y(r,o),o.translate(r.x,r.y),o.rotate(a),o.translate(-r.x,-r.y),q(String(n),r,"white",void 0,o),o.restore()}function H(e,t,n="black",i=n,o){u({v1:e,v2:t}),f({color:n,backgroundColor}),z(e,t,n,i,void 0,o);let r=Math.atan2(t.y-e.y,t.x-e.x),a={x:t.x-S*Math.cos(r),y:t.y-S*Math.sin(r)};x.beginPath(),x.moveTo(a.x,a.y),x.lineTo(a.x-N*Math.cos(r-Math.PI/6),a.y-N*Math.sin(r-Math.PI/6)),x.moveTo(a.x,a.y),x.lineTo(a.x-N*Math.cos(r+Math.PI/6),a.y-N*Math.sin(r+Math.PI/6)),x.closePath(),x.strokeStyle="blue",x.lineWidth=2,x.stroke(),F(e,t,o)}function W(e,t,n=!0,i=.9,o="black",r=o,a="blue",l){if(p({decreasingPercentage:i}),i<=0||i>1)throw new TypeError("'decreasingPercentage' mustbe a number greater than 0 and 1.");return f({arrowColor:a}),z(e,t,o,r,void 0,l),new Promise((o=>{let r,h=Math.atan2(t.y-e.y,t.x-e.x),c=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),d=c,g=document.createElement("canvas");D(parseInt(v.style.width),parseInt(v.style.height),g),g.style.position="absolute",g.style.border="2px solid blue",document.getElementById("canvasContainer").appendChild(g);let u=g.getContext("2d");const m=()=>{c*=i,r={x:t.x-c*Math.cos(h),y:t.y-c*Math.sin(h)},u.clearRect(0,0,v.width,v.height),u.beginPath(),Y(r,u),u.moveTo(r.x,r.y),Y({x:r.x-N*Math.cos(h-Math.PI/6),y:r.y-N*Math.sin(h-Math.PI/6)},u),u.lineTo(r.x-N*Math.cos(h-Math.PI/6),r.y-N*Math.sin(h-Math.PI/6)),Y(r,u),u.moveTo(r.x,r.y),Y({x:r.x-N*Math.cos(h+Math.PI/6),y:r.y-N*Math.sin(h+Math.PI/6)},u),u.lineTo(r.x-N*Math.cos(h+Math.PI/6),r.y-N*Math.sin(h+Math.PI/6)),u.strokeStyle=a,u.lineWidth=2,u.stroke(),u.lineWidth=2,u.beginPath(),Y(r,u),u.moveTo(r.x,r.y);let y=d-c;if(Y({x:r.x-y*Math.cos(h),y:r.y-y*Math.sin(h)},u),u.lineTo(r.x-y*Math.cos(h),r.y-y*Math.sin(h)),u.closePath(),u.stroke(),F(e,t,l,void 0,u),R(e,void 0,void 0,!0,u),R(t,void 0,void 0,!0,u),c>S)requestAnimationFrame(m);else{if(n){let e=s(A);x.scale(e,e),x.drawImage(g,0,0),x.scale(A,A)}document.getElementById("canvasContainer").removeChild(g),o()}};requestAnimationFrame(m)}))}function q(e,t,n,i="black",o=v.getContext("2d")){w({text:e}),y({point:t}),f({bgColor:n,textColor:i}),o.fillStyle=n,o.fillRect(t.x-4*e.length,t.y-5,8*e.length,10),o.fillStyle=i,o.font=I,o.textAlign="center",o.fillText(e,t.x,t.y+5)}async function G(e,t=!0,n){g(e),t&&L(),e.getVertices().forEach((t=>{for(let i of e.getVertexNeighbors(t))switch(n){case 1:H(t,i.v,void 0,void 0,i.weight);break;case 2:W(t,i.v,void 0,void 0,void 0,void 0,void 0,i.weight);break;default:z(t,i.v,void 0,void 0,void 0,i.weight,!0)}j(t,void 0,void 0,!1,!0)})),function(e,t,n,i,o,r=v.getContext("2d")){m(e);for(let a of e)r.save(),o&&Y(a),R(a,t,n,i,r),r.restore()}(e.getVertices(),void 0,void 0,!0,!0)}const X=(()=>{var e,t=[1,0,0,1,0,0];let n=1;const i={x:0,y:0};var o=!0,r={x:0,y:0};return{setContext(t){e=t,o=!0},apply(){o&&this.update(),e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5])},getZoomScale:()=>n,getPosition:()=>i,resetPosition(){Object.defineProperties(i,{x:{value:0},y:{value:0}})},getDefaultTranslate:()=>r,isDirty:()=>o,update(){o=!1,t[3]=t[0]=A,t[2]=t[1]=0,t[4]=r.x+i.x,t[5]=r.y+i.y},scaleAt(e,t){o&&this.update(),n*=t,i.x=e.x-(e.x-i.x)*t,i.y=e.y-(e.y-i.y)*t,o=!0},setDefaultTranslate(e,t){r={x:e,y:t}}}})();function Y(e,t=x){t.translate(e.x*X.getZoomScale()-e.x,e.y*X.getZoomScale()-e.y)}function Z(e){y({point:e});let t=X.getPosition(),n=X.getZoomScale();return X.getDefaultTranslate(),new a(e.x/A*(s(n)*A)-t.x*s(n)/A,e.y/A*(s(n)*A)-t.y*s(n)/A)}function _(e){y({point:e});let t=X.getPosition(),n=X.getZoomScale();return X.getDefaultTranslate(),new a((A*e.x/(s(n)*A*A)+t.x*s(n)/A*A/(s(n)*A*A))*A,(A*e.y/(s(n)*A*A)+t.y*s(n)/A*A/(s(n)*A*A))*A)}function U(){x.setTransform(A,0,0,A,0,0)}function K(e,t=5e3){w({message:e}),p({time:t}),document.getElementsByClassName("alert")[0].innerHTML=e,document.getElementsByClassName("alert")[0].style.display="block",setTimeout((()=>{(function(e){return w({message:e}),document.getElementsByClassName("alert")[0].innerText.replace(/\n/g,"")!==e.replace(/<[^>]*>/g,"")})(e)||(document.getElementsByClassName("alert")[0].style.display="none")}),t)}async function $(e,t,n,i){return u({point:e}),w({defaultValue:t}),b({blur:n,enter:i}),new Promise((o=>{let r=document.createElement("input");r.placeholder=t,r.type="text",r.size=8,r.classList.add("poppin"),document.body.appendChild(r);const a=parseInt(window.getComputedStyle(document.getElementById("canvasContainer")).left),s=parseInt(window.getComputedStyle(v).border);let l=e.x-r.clientWidth/2+a+s,h=e.x+r.clientWidth/2+a+2*s,c=l>0?h<document.body.clientWidth?l:document.body.clientWidth-r.clientWidth:0;r.style.left=c+"px",r.style.top=e.y+"px",r.onblur=()=>{document.body.removeChild(r),n()},r.onkeydown=e=>{if("Enter"===e.key){let t=r.value?r.value:r.placeholder;null!=i(t)&&1!=i(t)||(r.blur(),o()),e.stopPropagation()}},setTimeout((()=>r.focus()),50)}))}async function Q(e,t){const n=document.getElementById("header").getBoundingClientRect().height,i=document.getElementById("legend").getBoundingClientRect().height,o=_(e);let r=t.getSize(),s=new a(o.x,n+i+o.y-O);await $(s,String(r),(()=>{null==e.name&&t.removeVertex(e),G(t)}),(n=>{let i=!1;for(let e of t.getVertices())if(String(e.name).toLowerCase()===String(n).toLowerCase()){i=!0;break}if(i)return K("Point name must be unique."),!1;t.setVertexName(e,n),r++}))}async function ee(e,t,n){const i=document.getElementById("header").getBoundingClientRect().height,o=document.getElementById("legend").getBoundingClientRect().height;let r=_(e),s=_(t),l=Math.atan2(s.y-r.y,s.x-r.x),h=Math.sqrt((s.x-r.x)*(s.x-r.x)+(s.y-r.y)*(s.y-r.y)),c=h/2,d=s.x-c*Math.cos(l),g=s.y-c*Math.sin(l)+i+o;await $(new a(d,g),String(Math.floor(4.5*h)),(()=>{G(n)}),(i=>{if(isNaN(i)||0==Number(i))return K("Input for connecting points must be a number ('0' for no 'weight'on the connection)"),!1;n.setWeight(e,t,Number(i))}))}X.setContext(x);class te{axis=T;axisBegin=0;gradPercentage=.93;color="black";withAxisVal=!1;constructor(e,t,n,i,o){switch(arguments.length){case 5:"boolean"==typeof o&&(this.withAxisVal=o);case 4:l(i)&&(this.color=i);case 3:if("number"==typeof n){if(!(n<=1||n>0))throw new RangeError('"gradPercentage" must be between 0 and 1.');this.gradPercentage=n}case 2:"number"==typeof t&&(this.axisBegin=Math.floor(t));case 1:if(e!==T&&e!==M)throw new RangeError('"axis" property must be a value of "GRAD_BY_X" or "GRAD_BY_Y" constants of this script.');this.axis=e}t||e!=M||(this.axisBegin=v.clientHeight)}}const ne="blue",ie=document.getElementById("graphView").getContext("2d");let oe,re=0;function ae(){L();let e=X.getZoomScale(),t=X.getPosition(),n=s(e),i=t.x,o=t.y,r={x:(-n*t.x+1)/(i-(1==n)?2:n),y:(-n*t.y+1)/(o-(1==n)?2:n)};X.scaleAt(r,n),ie.translate(-t.x,-t.y),X.resetPosition(),X.apply()}var se;let le=!1,he=!1;const ce=100;async function de(e,t,n){if(se)return;let i=Z(n instanceof a?n:d(e)),o=t.hasVertexInRadius(i,E?3*S:S);if(!o||o.name){if("mousedown"==e.type&&2==e.button||"touchstart"==e.type)return o&&function(e,t){g(t),u({v:e}),L(),e=t.getVertex(e);let n=t.getVertexNeighbors(e);t.removeVertex(e);for(let t of n)z(e,t.v,"red",null,void 0,void 0,!0),j(t.v,void 0,void 0,void 0,!0);G(t,!1),j(e,"red",void 0,!0,!0),setTimeout((()=>{G(t,!0)}),P)}(o,t),E&&window.navigator.vibrate&&window.navigator.vibrate(ce),!0;if("mousedown"==e.type&&0==e.button||"touchstart"==e.type&&Date.now()-e.touchstamp<1e3){if(o)return oe=o,j(oe,"blue",void 0,!1,!0),!0;if(t.hasVertexInRadius(i,2*S))return K("<strong>A point must not overlap on another.</strong> Space is nice.",3e3),!1;{let e=new a(i.x,i.y);return function(e,t){g(t),u({v:e}),t.addVertex(e),G(t,!0)}(e,t),await Q(e,t),!0}}}}function ge(e,t){if(!oe)return;let n=d(e,!0);return function(e,t,n){L(),z(t,n,ne,"blue",void 0,!1,!0),G(e,!1),j(t,ne,void 0,!1,!0)}(t,oe,n),n}async function ue(e,t,n){if(!oe)return!1;let i=n instanceof a?n:d(e);console.log(i);let o=Z(i);console.log(o);let r=t.hasVertexInRadius(o,E?3*S:S),s=oe;return oe=null,r===s?(G(t,!0),!1):r?(t.addEdge(s,r),await ee(s,r,t),!0):t.hasVertexInRadius(o,2*S)?(K("<strong>A point must not overlap on another.</strong> Space is nice.",3e3),G(t),!1):(t.addVertex(o),t.addEdge(s,o),G(t),await Q(o,t),await ee(s,o,t),G(t),t.print(),!0)}function me(e,t){var n;if(!se)return function(e){var t,n,i,o,r,s;if("touchmove"===(e=window.event||e).type){var l=new a(e.touches[0].clientX,e.touches[0].clientY),h=new a(e.touches[1].clientX,e.touches[1].clientY);r=c(i=l,o=h)/2,s=Math.atan2(o.y-i.y,o.x-i.x),t={x:o.x-r*Math.cos(s),y:o.y-r*Math.sin(s)},n=c(l,h)-re,re=c(l,h)}var d="touchmove"!=e.type?e.offsetX:t.x,g="touchmove"!=e.type?e.offsetY:t.y;("mousewheel"===e.type?e.wheelDelta:"touchmove"!==e.type?-e.detail:n)>0?X.scaleAt({x:d,y:g},1.1):X.scaleAt({x:d,y:g},1/1.1)}(e),b({drawFunc:n=()=>{G(t)}}),X.isDirty()&&(U(),L(),X.apply()),n(),e.preventDefault(),!0}function ye(e){se=e}const fe=document.getElementById("graphView");var pe,we=document.getElementById("graphView"),be=we.getContext("2d"),ve="rgb(144, 238, 144)";function xe(e,t="y",n=!0,i=2,o=.1,r=1e3,a=[],s=!0){return new Promise((l=>{pe=new Array(e.length).fill(!1,0,e.length);var h=void 0;!0===n&&(h="y"==t?(we.clientHeight-O+12)/e.length:we.clientWidth/e.length),this.delayed=0,s&&be.clearRect(0,0,we.width,we.height);const c=async()=>{be.globalAlpha=o,be.fillStyle="white",be.fillRect(0,0,we.width,we.height),be.globalAlpha=1;for(var s=0;s<e.length;s++){let o=Array.isArray(n)?n[s]:O-12+Math.floor((s+1)*h-h/2);Ee(e[s],o,i,t,a[s]),Object.getOwnPropertyDescriptor(e[s],t).value===o&&(pe[s]=!0)}Se()?(this.delayed||(this.delayed=Date.now()),Date.now()-this.delayed<=r?window.requestAnimationFrame(c):l()):window.requestAnimationFrame(c)};requestAnimationFrame(c)}))}function Ee(e,t,n,i,o="black"){var r=Object.getOwnPropertyDescriptor(e,i).value;r<t?r=r+n>t?t:r+n:r>t&&(r=r-n<t?t:r-n),Object.defineProperty(e,i,{value:r});const a="y"===i?T:M;be.globalAlpha=.5,j(e,o,new te(a,null,null,o,!0),!0),be.globalAlpha=1}const Se=()=>pe.every((e=>e));function Pe(e,t,n,i=0){return new Promise((o=>{let r=1,a=0,s=0;const l=async()=>{r-=n,a=1-r,Math.min(r,a)==a?t():e();let h=Math.max(r,a)-Math.min(r,a);be.fillStyle="rgb(255, 255, 255, "+h+")",be.fillRect(0,0,we.width,we.height),Math.min(r,a)==a?e():t(),be.fillStyle="rgb(255, 255, 255, "+Math.min(r,a)+")",be.fillRect(0,0,we.width,we.height),parseFloat(r-1)>-1?requestAnimationFrame(l):(s||(s=Date.now()),Date.now()-s>=i?o():requestAnimationFrame(l))};requestAnimationFrame(l)}))}var Te,Me;async function Ie(e,t){if(!t)throw new TypeError("Must specify an axis of the array objects to compare ('x' or 'y').");if(!(e instanceof r&&e.isDisplayable()))throw new TypeError("Every object must have 'x' and 'y' co-ordinate properties.");Me="x"===(Te=t)?"y":"x";const n=e.getVertices(),i="x"===Te?T:M;"x"===Te?n.sort(((e,t)=>e.y-t.y)):n.sort(((e,t)=>e.x-t.x)),await Pe((()=>G(e,!1,!1)),(()=>J(n,i,!1)),.014,150),await new xe(n,Me,void 0,1.05,void 0,1500,void 0,!1),await ke(0,n.length-1,n),await new Promise((t=>{setTimeout((async()=>{await function(e,t,n){var i="y"==n?T:M;return Pe((()=>{for(let o of e.getVertices()){let e=Object.getOwnPropertyDescriptor(o,n).value,r=0,a=t.length,s=0|a/2;for(;a>=r;)if(Object.getOwnPropertyDescriptor(t[s],n).value>e)a=s-1,s=0|r+(a-r)/2;else if(Object.getOwnPropertyDescriptor(t[s],n).value<e)r=s+1,s=0|r+(a-r)/2;else{a=r-1;let e=Object.getOwnPropertyDescriptor(t[s],"y"==n?"x":"y").value;j(o,void 0,new te(i,e,.96,ve),!0),j(t[s],ve,void 0,!0)}}}),(()=>{G(e,!1)}),.005)}(e,n,Te),t()}),2500)}))}async function ke(e,t,n){if(t-e!=0){let i=e,o=0|e+(t-e)/2;await ke(i,o,n);let r=o+1,a=t;await ke(r,a,n),await new Promise((e=>e(function(e,t,n,i,o){let r=e,a=new Array(i-e+1),s=0;for(;e<=t&&n<=i;)Object.getOwnPropertyDescriptor(o[e],Te).value<Object.getOwnPropertyDescriptor(o[n],Te).value?a[s++]=o[e++]:a[s++]=o[n++];for(;e<=t;)a[s++]=o[e++];for(;n<=i;)a[s++]=o[n++];for(let e=0;e<a.length;e++)o[r++]=a[e]}(i,o,r,a,n)))),await function(e,t,n,i){let o=new Array(e.length).fill(ve,n,i+1),r="y"==t?(we.clientHeight-O+12)/e.length:we.clientWidth/e.length;return new xe(e,t,!0,r/25<2.6?r/25:2.6,.1,500,o,!1)}(n,Me,e,t)}}const Be=document.getElementById("graphView"),Ce=Be.getContext("2d"),Oe="blue",Ne="green",Ae=500,Le=500;function Ve(e,t,n,i,o,r){return new Promise((a=>{J(e,void 0,!0),z(t.p1,t.p2,Oe),z(n,i,Ne),je(e[0===o?0:o-1].x,e[r].x),setTimeout((()=>{L(),a()}),Le)}))}function De(e,t,n,i){return new Promise((o=>{J(e,void 0,!0),z(t.p1,t.p2,Oe),je(e[0===n?0:n-1].x,e[i].x),setTimeout((()=>{o()}),Le)}))}function je(e,t,n="yellow"){z({x:e,y:0},{x:e,y:Be.clientHeight},n,null),z({x:t,y:0},{x:t,y:Be.clientHeight},n,null)}function Re(e,t){L(),J(e,void 0,!1),z(t.p1,t.p2,Oe)}async function Je(e){var t;if(!e instanceof r)throw new TypeError("Must pass in an instance of a Graph.");if(!(t=e.getVertices()).every((e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"))))throw new TypeError("Every object must have an 'x' and a 'y' property.");var n=[...t].sort(((e,t)=>e.x-t.x)),i=[...t].sort(((e,t)=>e.y-t.y));let o=await ze(n,0,n.length-1,i);return Re(n,o),await new Promise((t=>{setTimeout((async()=>{await function(e,t){return Pe((()=>{Re(e.getVertices(),t)}),(()=>G(e,!1)),.008)}(e,o),t()}),5e3)})),[o.p1,o.p2]}async function ze(e,t,n,i){if(n-t<=3)return await async function(e,t,n,i){let o=new He(e[0],e[1]);for(let r=0;r<e.length;r++)for(let a=r+1;a<e.length;a++)0===r&&1===a||(await Ve(t,o,e[r],e[a],n,i),Fe(e[r],e[a])<o.getDistance()&&(o=new He(e[r],e[a])),await De(t,o,n,i));return o}(e.slice(t,n+1),e,t,n);{let o=t,r=0|t+(n-t)/2,a=await ze(e,o,r,i),s=r+1,l=n,h=await ze(e,s,l,i),c=a.getDistance()<h.getDistance()?a:h;await function(e,t,n,i,o,r){return new Promise((a=>{J(e,void 0,!0),z(t.p1,t.p2,Oe),z(n.p1,n.p2,Oe),je(e[o].x,e[r].x);let s=e[0|o+(r-o)/2+(+(0!=o)?1:0)].x;z({x:s,y:0},{x:s,y:Be.clientHeight},"yellow",null),setTimeout((()=>{L(),J(e,void 0,!1),z(i.p1,i.p2,Oe),je(e[o].x,e[r].x),z({x:s,y:0},{x:s,y:Be.clientHeight},"yellow",null),setTimeout((()=>{a()}),Ae)}),Ae)}))}(e,a,h,c,0===t?0:t-1,n);let d=await async function(e,t,n,i,o){let r=t[0|n+(i-n)/2].x;!function(e,t){var n;L(),je(e-t,e+t,Oe),n=e,Ce.strokeStyle="yellow",Ce.beginPath(),Ce.setLineDash([5,10]),Ce.moveTo(n,0),Ce.lineTo(n,Be.height),Ce.stroke(),Ce.setLineDash([])}(r,e.dist);let a=[],s=[];for(let t of o)t.x<=r&&t.x>=r-e.getDistance()?a.push(t):t.x>r&&t.x<=r+e.getDistance()&&s.push(t);let l=0;for(let t of a){for(;l<s.length&&s[l].y<=t.y-e.getDistance();)l++;let n=l;for(;n<s.length&&+(s[n].y-t.y)<=e.getDistance();)Fe(t,s[n])<e.getDistance()&&(e=new He(t,s[n])),n++}return e}(c,e,t,n,i);return await function(e,t,n,i,o){return new Promise((r=>{J(e,void 0,!1),z(t.p1,t.p2,Oe),je(e[i].x,e[o].x),setTimeout((()=>{J(e,void 0,!0),z(n.p1,n.p2,Oe),je(e[i].x,e[o].x),setTimeout((()=>{r()}),Ae)}),Ae)}))}(e,c,d,t,n),d}}function Fe(e,t){let n=(t.x-e.x)*(t.x-e.x),i=(t.y-e.y)*(t.y-e.y);return Math.sqrt(n+i)}class He{constructor(e,t){this.p1=e,this.p2=t,this.dist=this.distance(this.p1,this.p2)}distance=Fe;getDistance(){return this.dist}}const We="blue",qe=1e4;async function Ge(e,t,n,i){let o=W(e,t,!0,i?.93:.95,void 0,void 0,void 0,Number(n.getWeight(n.getVertex(e),n.getVertex(t))));j(e,We),j(t,We),i?await new Promise((e=>setTimeout((()=>e()),i))):await o}function Xe(e,t,n,i,o){let r=e.getPath(t),a="Path found from <i>"+e.getRoot().name+"</i> to <i>"+t.name+"</i>: <b>"+e.getRoot().name+"</b> > ";a+=1==r.length?"<b>"+JSON.parse(r[0]).name+"</b>":r.reduce(((e,t,n)=>"<b>"+JSON.parse(t).name+"</b> > "+(1==n?"<b>"+JSON.parse(e).name+"</b>":e)));let s=a+"</br>Path Length: <b>"+r.length+"</b>";s+=(i?"</br>Search Count: <b>"+i+"</b>":"")+(o||""),K(s,n)}let Ye=document.getElementById("graphView");let Ze=0;const _e=[{header:"Graph Visualizer",message:["No, this is not a replacement of your $200 graphing calculator. While utilizing the same name, ","this theory is rather about how the connections to an object can be stored and searched in electronic data. ","So what on earth is this theory?</br></br>","Feel free to skip this tutorial if you'd like, and to click on the title."].join(""),image:"./src/resources/favicon.png"},{header:"The Graph Programmers Know and Love",message:["A graph is essentially a list of objects with each object provided its own ","list for some kind of connection in the original list. Facebook uses them to store 'people' and ","who they're friends with, and Google Maps uses them in storing locations and their neighboring ","locations."].join(""),image:"./src/resources/graph rep.png"},{header:"Customizing Graph Visualizer",message:["<i>Adding and Removing Points</i> - A user can ",(E?"tap to add a new point, and double tap to remove one.":"click to add a new point, and right-click to remove one.")+"</br></br>","<i>Adding Connections</i> - Users can also ",(E?"hold down on a point for half a second and drag from it to add a connection to it.":"begin dragging from one point to another, or to an open space to simultaneously create a new point, to add a connection between them.")+"</br></br>","<i>Zooming</i> - A user can further "+(E?"tap with two fingers":"use the mouse wheel")+" to zoom in and out.</br></br>","Other pre-made maps can be loaded using the <span class='buttonDisplay main'>Change Map</span> ","dropdown."].join(""),image:""},{header:"Searching",message:["A main advantage of graphs is their efficient ability to search through objects' connections.</br></br>","Users can search the graph for a path using the <span class='buttonDisplay main'>Find Paths","</span> dropdown section.</br></br>","All algorithms use a <span class='buttonDisplay input'>Starting From:</span> point, and most ","use a <span class='buttonDisplay input'>Searching For:</span> point, which can be typed in the ","appropriate inputs. </br></br>","The algorithm to use can be selected at the ending <span class='buttonDisplay algorithm'>","dropdown</span> of the <span class='buttonDisplay main'>Find Paths</span> dropdown section."].join(""),image:""},{header:"The Algorithm Cast",message:["<font size=2><span class='buttonDisplay algorithm'>Depth-First Search</span> - Searches through every ","connection to one of the 'neighbors' of the starting point before searching a second 'neighbor', digging first all ","the way to the end of one neighboring line of connections before searching another neighbor and its connections.</br></br>","<span class='buttonDisplay algorithm'>Breadth-First Search</span> - Searches all of the point's 'neighbors' ","before searching those neighbors' neighbors. The fewer the connections to the sought point, the ","quicker it'll be found.</br></br>","<span class='buttonDisplay algorithm'>Shortest Entirety Path</span> - Determines the smallest distance to travel to every ","point, though not necessarily in a linear path.</br></br>","<span class='buttonDisplay algorithm'>Shortest Path</span> - Guarantees the shortest path from starting point to searching-for ","point."].join(""),image:""},{header:"Additional Features",message:["<i>Sorting</i> - Users can additionally sort the points based on their 'X' or 'Y' co-ordinates ","using the <span class='buttonDisplay main'>Sort</span> dropdown, which uses the Merge Sort algorithm.</br></br>","<i>Closest Pair</i> - A last feature includes finding the closest pair of points in the graph, ","which visualizes the 'Divide and Conquer' method."].join(""),image:""},{header:"Thanks so much for checking this project out!",message:["It has been incredibly learning for me, and I hope you find it interesting as well.</br></br>","The GitHub repository can be found <a href='https://github.com/paulmeddaugh/Graph-Visualizer'>here","</a>.</br>","The Trello board can be found <a href='https://trello.com/b/0vXmvjiV/graph-visualizer'>here","</a>."].join(""),image:""}];function Ue(e){Ke("Previous","Next"),Ze="previous"==e.currentTarget.id?--Ze:++Ze,Ze<0||Ze>=_e.length?Qe():(Ke("Skip","Finish"),$e())}function Ke(e,t){0==Ze?document.getElementById("previous").innerHTML=e:Ze==_e.length-1&&(document.getElementById("next").innerHTML=t)}function $e(){let e=document.getElementsByTagName("img")[0]?.remove(),t=document.getElementsByClassName("helpMessage")[0];document.getElementsByClassName("helpHeader")[0].innerHTML=_e[Ze].header,t.innerHTML=_e[Ze].message,""!=_e[Ze].image&&(e||(e=document.createElement("img")),e.src=_e[Ze].image,t.appendChild(e))}function Qe(){document.getElementById("helpMessage").style.display="none"}var et,tt,nt,it,ot,rt;let at,st;document.getElementById("previous").addEventListener("click",Ue),document.getElementById("next").addEventListener("click",Ue),document.getElementById("tutorial").addEventListener("click",(()=>{Ze=0,$e(),document.getElementById("previous").innerHTML="Skip",document.getElementById("next").innerHTML="Next",document.getElementById("helpMessage").style.display="flex"})),document.getElementById("closeTutorial").addEventListener("click",Qe),window.addEventListener("resize",ht),window.addEventListener("orientationchange",(e=>{ft(),ht(e)}),!1),window.addEventListener("contextmenu",(e=>e.preventDefault())),document.getElementById("closest").addEventListener("click",(async function(){return ft(),ae(),gt([["blue","Closest Pair"],["darkGreen","Comparing Pair"],["yellow","Searching Sector"],["blue-yellow","Merging Sectors"]]),yt(),await Je(et),mt(),ut(),!0})),document.getElementById("byX").addEventListener("click",ct),document.getElementById("byY").addEventListener("click",ct),document.getElementById("search").addEventListener("click",(async function(){ft(),ae(),G(et);let e=document.getElementById("start").value,t=document.getElementById("searchingFor").value,i=document.getElementById("searchType").innerText;if((e=et.getVertex(e))&&(t=et.getVertex(t)))return e===t?(K("Path Found: <b>"+e.name+"</b></br>Search Length: <b>0</b></br></br>Humans.",3e3),!1):(gt([["blue","Searched"]]),yt(),G(et),"Depth-First Search"==i?await async function(e,t,i){if(!e instanceof n)throw new TypeError("Only displays results from a SearchTree class, returned from a Graph.dfs");let o=e.getParents();var r=!1,a=0;for(let e in o){let n=JSON.parse(o[e]),s=JSON.parse(e);if(await Ge(n,s,i,325),a++,e===JSON.stringify(t)){r=!0;break}}!1===r?K("No path found.",3e3):Xe(e,t,qe,a)}(et.dfs(e),t,et):"Breadth-First Search"==i?await async function(e,t,i){if(!e instanceof n)throw new TypeError("Only displays results from a SearchTree class, returned from a Graph.bfs");let o=e.getParents(),r=new Map,a=0;r.set(JSON.stringify(e.getRoot()),[]);for(let n in o){if(r.has(o[n])||await s(r,i),a++,n===JSON.stringify(t))return r.get(o[n]).push(n),await s(r,i),Xe(e,t,qe,a),void e.printTree();await void 0,r.get(o[n]).push(n)}async function s(e,t){let n,i,o=[];for(let[r,a]of e){for(let e of a)n&&await Ge(n,i,t,250),n=JSON.parse(r),i=JSON.parse(e),o.push(e);e.delete(r)}await Ge(n,i,t),await new Promise((e=>setTimeout((()=>e()),75)));for(let t of o)e.set(t,[])}await s(r,i),K("No path found.",3e3)}(et.bfs(e),t,et):"Minimum Spanning Tree"==i?await async function(e,t){if(!e instanceof n)throw new TypeError("Only displays results from a SearchTree class returned from Graph.");let i=e.getParents(),o=null;for(let e in i){let n=JSON.parse(i[e]),r=JSON.parse(e);o=W(n,r,!0,.95,void 0,void 0,void 0,Number(t.getWeight(t.getVertex(n),t.getVertex(r))))}J(t.getVertices(),void 0,!1,"blue"),await o,K("Smallest Distance To Travel To Every Point (Not Continuous): <b>"+e.getTotalWeight()+"</b>",qe)}(et.getMinimumSpanningTree(e),et):"Shortest Path"==i&&await async function(e,t,n){let i,o=e.getPath(t),r=e.getRoot();for(let e=o.length-1;-1!=e;e--)i=JSON.parse(o[e]),await Ge(r,i,n,250),r=i;let a="</br>Total Path Distance: <b>"+e.getCost(t)+"</b>";Xe(e,t,qe,void 0,a)}(et.getShortestPath(e),t,et),mt(),ut(),!0);K("Could not find the starting or searching point in the graph.",5e3)}));for(let e of["byDepth","byBreadth","byMinimumSpanningTree","byShortestPaths"])document.getElementById(e).addEventListener("click",pt);function lt(e){let t="string"==typeof e?e:e.currentTarget.id;G(et=function(e){let t,n,i,o,a;switch(e.toLowerCase()){case"us":i=Math.min(Ye.width/((t=780)*A),Ye.height/((n=430)*A)),o=[{name:"Seattle",x:125,y:60},{name:"San Francisco",x:100,y:220},{name:"Los Angeles",x:128,y:285},{name:"Denver",x:325,y:185},{name:"Kansas City",x:450,y:255},{name:"Chicago",x:500,y:110},{name:"Boston",x:728,y:90},{name:"New York",x:725,y:130},{name:"Atlanta",x:625,y:305},{name:"Miami",x:650,y:410},{name:"Dallas",x:458,y:335},{name:"Houston",x:495,y:370}],a=[[0,1,807],[0,3,1331],[0,5,2097],[1,2,381],[1,3,1267],[2,3,1015],[2,4,1663],[2,10,1435],[3,4,599],[3,5,1003],[4,5,533],[4,7,1260],[4,8,864],[4,10,496],[5,6,983],[5,7,787],[6,7,214],[7,8,888],[8,9,661],[8,10,781],[8,11,810],[9,11,1187],[10,11,239]];break;case"binary":i=Math.min(Ye.width/((t=680)*A),Ye.height/((n=380)*A)),o=[{name:"43",x:362,y:34},{name:"19",x:178,y:107},{name:"15",x:89,y:184},{name:"17",x:133,y:258},{name:"23",x:272,y:185},{name:"21",x:225,y:258},{name:"25",x:317,y:259},{name:"34",x:338,y:335},{name:"84",x:543,y:108},{name:"48",x:452,y:185},{name:"64",x:497,y:258},{name:"62",x:474,y:335},{name:"91",x:635,y:184}],a=[[0,1,200],[0,8,200],[1,2,150],[1,4,150],[2,3,100],[4,5,100],[4,6,100],[6,7,50],[8,9,150],[8,12,150],[9,10,100],[10,11,50]];break;default:throw new TypeError("No graph map to load with the name '"+e+"'")}for(let e=0;e<o.length;e++){let r=Math.floor(Object.getOwnPropertyDescriptor(o[e],"x").value*i),a=Math.floor(Object.getOwnPropertyDescriptor(o[e],"y").value*i);r=Math.floor(Ye.width/2/A-t*i/2+r),a=Math.floor(Ye.height/2/A-n*i/2+a),Object.defineProperties(o[e],{x:{value:r},y:{value:a}})}return new r(o,a)}(t)),"us"==t?(document.getElementById("start").value="Seattle",document.getElementById("searchingFor").value="Houston"):(document.getElementById("start").value="43",document.getElementById("searchingFor").value="34")}async function ht(e){ot=nt.getBoundingClientRect().height,rt=it.getBoundingClientRect().height;var t=document.body.offsetWidth-2*st,n=document.body.offsetHeight-ot-rt-2*st;"load"===e.type?await function(e,t){let n=0,i=0;return new Promise((o=>{let r=()=>{let a=.12*(e-fe.width),s=.12*(t-fe.height),l=.052*e,h=.052*t,c=.38;if(n+=a>c?a<l?a:l:c,i+=s>c?s<h?s:h:c,fe.width=n,fe.height=i,!(fe.width<e||fe.height<t))return o(),D(),!0;requestAnimationFrame(r)};requestAnimationFrame(r)}))}(t,n):"orientationchange"!==e.type&&"resize"!==e.type||(V(t,n),G(et,!0))}async function ct(e){ft(),ae();let t="byX"===e.target.id?"x":"y";return gt([["green","Sorting By "+t.toUpperCase()]]),yt(),await Ie(et,t),mt(),ut(),!0}function dt(e,t){w({classOfIcon:e,text:t});let n=document.createElement("div"),i=document.createElement("div");return i.classList.add("legendItem"),i.classList.add(e),n.appendChild(i),n.innerHTML+=t,it.appendChild(n),!0}function gt(e){if(!Array.isArray(e))throw new TypeError("'legendItems' must be an array holding the arrays of items to create, with the item arrays containing its 'classOfIcon' in the first index and 'text' in the second");rt=parseInt(window.getComputedStyle(it).height),it.innerHTML="";for(let t of e)dt(t[0],t[1]);return rt=Math.max(parseInt(window.getComputedStyle(it).height),rt),it.style.height=rt+"px",!0}function ut(){document.getElementById("legend").innerHTML="",dt(E?"tap":"click","Add Point"),dt(E?"doubleTap":"rightClick","Remove Point"),dt(E?"dragTap":"drag","Connect"),dt(E?"zoomPinch":"zoom","Zoom")}function mt(){ye(!1);for(let e of["closest","findPaths","search","maps","tutorial"])document.getElementById(e).removeAttribute("disabled"),document.getElementById(e).removeAttribute("aria-disabled");document.getElementById("sort").classList.remove("disabled"),document.getElementById("maps").classList.remove("disabled"),tt.style.cursor="pointer"}function yt(){ye(!0),U(),G(et);for(let e of["closest","findPaths","search","maps","tutorial"])document.getElementById(e).setAttribute("disabled",""),document.getElementById(e).setAttribute("aria-disabled","");document.getElementById("sort").classList.add("disabled"),document.getElementById("maps").classList.add("disabled"),tt.style.cursor="default"}function ft(){document.getElementById("navbarNavAltMarkup").classList.remove("show"),document.getElementsByClassName("navbar-toggler")[0].classList.add("collapsed")}function pt(e){document.getElementById("searchType").innerHTML=e.target.innerHTML,"byMinimumSpanningTree"==e.target.id?document.getElementById("searchingFor").setAttribute("disabled",""):document.getElementById("searchingFor").removeAttribute("disabled")}document.getElementById("us").addEventListener("click",lt),document.getElementById("binary").addEventListener("click",lt),window.addEventListener("load",(async e=>{(tt=document.getElementById("graphView")).style.border="2px solid black",nt=document.getElementById("header"),it=document.getElementById("legend"),rt=it.getBoundingClientRect().height,at=parseInt(window.getComputedStyle(document.getElementById("canvasContainer")).marginTop),st=at+parseInt(window.getComputedStyle(tt).border),document.getElementById("alert").style.backgroundColor="rgba(224, 224, 224, .9)",tt.addEventListener("mousedown",(e=>de(e,et))),tt.addEventListener("touchstart",(e=>function(e,t){1===e.touches.length?(le=d(e),function(e,t){return he?(e.preventDefault(),de(e,t)):(he=!0,setTimeout((()=>{he=!1}),300),!1)}(e,t)||setTimeout((()=>{if(!le)return;let n,i=d(e,!0);(n=t.hasVertexInRadius(i,2*S))&&(E&&window.navigator.vibrate&&window.navigator.vibrate(ce),oe=n,j(oe,"blue"))}),500)):le=!1}(e,et))),tt.addEventListener("touchmove",(e=>function(e,t){switch(e.touches.length){case 1:le=ge(e,t);break;case 2:me(e,t)}}(e,et))),tt.addEventListener("touchend",(e=>async function(e,t){let n;return le&&(n=oe?ue(e,t,le):de(e,t,le)),le=!1,n}(e,et))),tt.addEventListener("mousemove",(e=>ge(e,et))),tt.addEventListener("mouseup",(e=>ue(e,et))),tt.addEventListener("mousewheel",(e=>me(e,et)),!1),tt.addEventListener("DOMMouseScroll",(e=>me(e,et)),!1),$e(),ut(),await ht(e),lt("us"),mt()})),document.getElementsByClassName("navbar-brand")[0].addEventListener("click",(()=>{new Audio("src/resources/a-whole-new-world-cropped.mp3").play()})),document.getElementById("findPaths").addEventListener("click",(()=>{E||setTimeout((()=>{ot=nt.getBoundingClientRect().height,V(document.body.offsetWidth-2*st,document.body.offsetHeight-ot-rt-2*st),G(et)}),500)})),document.getElementById("findPaths").addEventListener("click",(()=>{document.getElementById("navbarToggleExternalContent").classList.contains("show")?document.getElementById("findPaths").classList.remove("active"):document.getElementById("findPaths").classList.add("active")}))})();